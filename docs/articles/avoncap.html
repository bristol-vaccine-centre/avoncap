<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • avoncap</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="avoncap">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">avoncap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/avoncap.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      
      
      <div class="hidden name"><code>avoncap.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># library(avoncap)</span></span>
<span><span class="co"># devtools::load_all()</span></span></code></pre></div>
<div class="section level2">
<h2 id="input-data-location">Input data location<a class="anchor" aria-label="anchor" href="#input-data-location"></a>
</h2>
<ul>
<li>first level directories.</li>
<li>Filenames need some indication of database year (either as
20-21,21-22,… or as y1,y2,…)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The data input directory on my development machine:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"avoncap.input"</span> <span class="op">=</span> <span class="st">"~/Data/avoncap/"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The directory structure:</span></span>
<span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/dir_tree.html" class="external-link">dir_tree</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/input.html">input</a></span><span class="op">(</span><span class="op">)</span>,glob<span class="op">=</span><span class="st">"*/cache/*"</span>,invert<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB; font-weight: bold;">/home/vp22681/Data/avoncap</span></span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">avoncap-export</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-03-22</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-06-20</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-07-11</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-09-21</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-07</span></span></span>
<span><span class="co">#&gt; │   │   └── uad-controls.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-09</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── uad-controls.csv</span></span>
<span><span class="co">#&gt; │   ├── Avon CAP - LRTD Patients 21-22 _ REDCap codebook.pdf</span></span>
<span><span class="co">#&gt; │   ├── Avon CAP - LRTD central database 20-21 _ REDCap.pdf</span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── avoncap.yaml</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">cache</span></span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">downloads</span></span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">ethnicity</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-07-12</span></span></span>
<span><span class="co">#&gt; │   │   ├── y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-27</span></span></span>
<span><span class="co">#&gt; │   │   ├── y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── y2.csv</span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">google-mobility</span></span></span>
<span><span class="co">#&gt; │   └── Global_Mobility_Report.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">ltla-incidence</span></span></span>
<span><span class="co">#&gt; │   ├── ltla_2022-02-28.csv</span></span>
<span><span class="co">#&gt; │   └── ltla_2022-03-18.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #BB0000; font-weight: bold;">maybe_some_useful_files_data.zip</span></span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">metadata</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-24</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y3.csv</span></span>
<span><span class="co">#&gt; │   │   └── uad-controls.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-29</span></span></span>
<span><span class="co">#&gt; │   │   └── pneumococcal.csv</span></span>
<span><span class="co">#&gt; │   ├── AvonCAP Pneumococcus Codebook.pdf</span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">metadata-review</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-25</span></span></span>
<span><span class="co">#&gt; │   │   └── metadata-review.csv</span></span>
<span><span class="co">#&gt; │   ├── AvonCAP 21-22 markred.xlsx</span></span>
<span><span class="co">#&gt; │   └── AvonCAP data dictionary - fields.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">nhs-extract</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-07-11</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-09-20</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y3.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-16</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y3.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-29</span></span></span>
<span><span class="co">#&gt; │   │   └── pneumococcal.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-30</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y3.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── README.md</span></span>
<span><span class="co">#&gt; │   └── <span style="color: #0000BB; font-weight: bold;">old</span></span></span>
<span><span class="co">#&gt; │       ├── AdmissionDateByStudyNumber_2022-07-12.csv</span></span>
<span><span class="co">#&gt; │       └── DeltaVE_04042022.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">spim-seroprevalence</span></span></span>
<span><span class="co">#&gt; │   └── week15_2022_seroprev_modellers.csv</span></span>
<span><span class="co">#&gt; └── <span style="color: #0000BB; font-weight: bold;">urine-antigens</span></span></span>
<span><span class="co">#&gt;     ├── <span style="color: #0000BB; font-weight: bold;">2022-09-15</span></span></span>
<span><span class="co">#&gt;     │   └── uad-cases.csv</span></span>
<span><span class="co">#&gt;     ├── B1851202_SAP V1.0-27Sep2021_Final.pdf</span></span>
<span><span class="co">#&gt;     ├── README.md</span></span>
<span><span class="co">#&gt;     └── Table Template Serotype Distribution Scientific Affairs Proposal_FINAL.docx</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get the most recent files</span></span>
<span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/most_recent_files.html">most_recent_files</a></span><span class="op">(</span><span class="st">"ethnicity"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 7</span></span></span>
<span><span class="co">#&gt;   filename directory path                     date       hospi…¹ study…² filet…³</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fs::path&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> y1       ethnicity …icity/2022-10-27/y1.csv 2022-10-27 <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span> csv    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> y2       ethnicity …icity/2022-10-27/y2.csv 2022-10-27 <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span> csv    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​hospital, ²​study_year, ³​filetype</span></span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"missing"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; No suitable files matching "missing", before date: 2022-12-05. Try one of: </span></span>
<span><span class="co">#&gt; as an input to 'type'</span></span>
<span><span class="co">#&gt; Error in avoncap::load_data("missing") : aborting.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-data-sources-and-recording-provenance">Load data sources and recording provenance<a class="anchor" aria-label="anchor" href="#load-data-sources-and-recording-provenance"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ethn</span> <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"ethnicity"</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-969416e3870a1ceaa091ca0c1e17ce42-ff72608b64773903d114b82c59072820.rda</span></span>
<span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/most_recent_files.html">most_recent_files</a></span><span class="op">(</span><span class="st">"nhs-extract"</span>,<span class="st">"deltave"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">#&gt;   filename       directory   path             date       hospi…¹ study…² filet…³</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fs::path&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> deltave_BRI_y1 nhs-extract …tave_BRI_y1.csv 2022-11-30 BRI           1 csv    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> deltave_BRI_y2 nhs-extract …tave_BRI_y2.csv 2022-11-30 BRI           2 csv    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> deltave_BRI_y3 nhs-extract …tave_BRI_y3.csv 2022-11-30 BRI           3 csv    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> deltave_NBT_y1 nhs-extract …tave_NBT_y1.csv 2022-11-30 NBT           1 csv    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> deltave_NBT_y2 nhs-extract …tave_NBT_y2.csv 2022-11-30 NBT           2 csv    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> deltave_NBT_y3 nhs-extract …tave_NBT_y3.csv 2022-11-30 NBT           3 csv    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​hospital, ²​study_year, ³​filetype</span></span></span>
<span><span class="va">rawData</span> <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"nhs-extract"</span>,<span class="st">"deltave"</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-969416e3870a1ceaa091ca0c1e17ce42-8e9145a2881200bf0a27d01f5d5e29d9.rda</span></span>
<span><span class="co"># rawData = avoncap::load_data("nhs-extract","deltave",merge = FALSE)</span></span>
<span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/save_data_source_info.html">save_data_source_info</a></span><span class="op">(</span><span class="va">ethn</span>, <span class="va">rawData</span>, .file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"file-info"</span>,fileext <span class="op">=</span> <span class="st">".txt"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 2</span></span></span>
<span><span class="co">#&gt;   path                                                                 md5      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> /home/vp22681/Data/avoncap/ethnicity/2022-10-27/y1.csv               c3ad7992…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> /home/vp22681/Data/avoncap/ethnicity/2022-10-27/y2.csv               ce23f5ae…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> /home/vp22681/Data/avoncap/nhs-extract/2022-11-30/deltave_BRI_y1.csv 4461d43f…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> /home/vp22681/Data/avoncap/nhs-extract/2022-11-30/deltave_BRI_y2.csv 94bffc82…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> /home/vp22681/Data/avoncap/nhs-extract/2022-11-30/deltave_BRI_y3.csv 97088b63…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> /home/vp22681/Data/avoncap/nhs-extract/2022-11-30/deltave_NBT_y1.csv da86408f…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> /home/vp22681/Data/avoncap/nhs-extract/2022-11-30/deltave_NBT_y2.csv ee57210a…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> /home/vp22681/Data/avoncap/nhs-extract/2022-11-30/deltave_NBT_y3.csv 2f8add58…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="normalising-data">Normalising data<a class="anchor" aria-label="anchor" href="#normalising-data"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span><span class="va">data</span> <span class="op">=</span> <span class="va">rawData</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-cd20cb0e31cee3ed5c7689c79881f638.rda</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="mapping-columns">Mapping columns<a class="anchor" aria-label="anchor" href="#mapping-columns"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Successfully mapped columns</span></span>
<span><span class="co"># attr(data,"mapped")</span></span>
<span></span>
<span><span class="co"># Columns that are present in the data but not mapped</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"unmapped"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] ".spec_other_resp"    ".spec_other_cardiac" ".c19_compother"</span></span>
<span></span>
<span><span class="co"># Columns not present in the data for which mapping rules were supplied</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"missing"</span><span class="op">)</span></span>
<span><span class="co">#&gt; character(0)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="original-field-names-and-labels-">Original field names, and labels.<a class="anchor" aria-label="anchor" href="#original-field-names-and-labels-"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span></span>
<span><span class="co"># generate a set of readable label mappings from column to printable name for the whole data set</span></span>
<span><span class="fu"><a href="../reference/readable_label_mapping.html">readable_label_mapping</a></span><span class="op">(</span><span class="va">data</span>, demog.age<span class="op">=</span><span class="st">"TEST"</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                  "admin.record_number" </span></span>
<span><span class="co">#&gt;                                        "Record Number" </span></span>
<span><span class="co">#&gt;                        "admin.consented_record_number" </span></span>
<span><span class="co">#&gt;                              "Consented Record Number" </span></span>
<span><span class="co">#&gt;                             "admin.patient_identifier" </span></span>
<span><span class="co">#&gt;                                   "Patient Identifier" </span></span>
<span><span class="co">#&gt;                                      "admin.duplicate" </span></span>
<span><span class="co">#&gt;                                            "Duplicate" </span></span>
<span><span class="co">#&gt;                                "admin.enrollment_date" </span></span>
<span><span class="co">#&gt;                                      "Enrollment Date" </span></span>
<span><span class="co">#&gt;                                     "admin.study_year" </span></span>
<span><span class="co">#&gt;                                           "Study Year" </span></span>
<span><span class="co">#&gt;                                      "admin.data_file" </span></span>
<span><span class="co">#&gt;                                            "Data File" </span></span>
<span><span class="co">#&gt;                                    "admin.week_number" </span></span>
<span><span class="co">#&gt;                                          "Week Number" </span></span>
<span><span class="co">#&gt;           "diagnosis.standard_of_care_COVID_diagnosis" </span></span>
<span><span class="co">#&gt;                     "Standard Of Care COVID Diagnosis" </span></span>
<span><span class="co">#&gt; "diagnosis.clinical_or_radiological_LRTI_or_pneumonia" </span></span>
<span><span class="co">#&gt;           "Clinical Or Radiological LRTI Or Pneumonia" </span></span>
<span><span class="co">#&gt;                             "diagnosis.admission_swab" </span></span>
<span><span class="co">#&gt;                                       "Admission Swab" </span></span>
<span><span class="co">#&gt;                                  "diagnosis.test_type" </span></span>
<span><span class="co">#&gt;                                            "Test Type" </span></span>
<span><span class="co">#&gt;                  "diagnosis.qualifying_symptoms_signs" </span></span>
<span><span class="co">#&gt;                            "Qualifying Symptoms Signs" </span></span>
<span><span class="co">#&gt;                "diagnosis.meets_case_control_criteria" </span></span>
<span><span class="co">#&gt;                          "Meets Case Control Criteria" </span></span>
<span><span class="co">#&gt;             "diagnosis.first_COVID_positive_swab_date" </span></span>
<span><span class="co">#&gt;                       "First COVID Positive Swab Date" </span></span>
<span><span class="co">#&gt;                                         "demog.gender" </span></span>
<span><span class="co">#&gt;                                               "Gender" </span></span>
<span><span class="co">#&gt;                                            "demog.age" </span></span>
<span><span class="co">#&gt;                                                 "TEST" </span></span>
<span><span class="co">#&gt;                              "demog.age_in_march_2021" </span></span>
<span><span class="co">#&gt;                                    "Age In March 2021" </span></span>
<span><span class="co">#&gt;                                     "demog.imd_decile" </span></span>
<span><span class="co">#&gt;                                         "IMD (decile)" </span></span>
<span><span class="co">#&gt;                                         "demog.smoker" </span></span>
<span><span class="co">#&gt;                                               "Smoker" </span></span>
<span><span class="co">#&gt;                                      "demog.ethnicity" </span></span>
<span><span class="co">#&gt;                                            "Ethnicity" </span></span>
<span><span class="co">#&gt;                             "demog.care_home_resident" </span></span>
<span><span class="co">#&gt;                                   "Care Home Resident" </span></span>
<span><span class="co">#&gt;                                  "demog.no_drug_abuse" </span></span>
<span><span class="co">#&gt;                                        "No Drug Abuse" </span></span>
<span><span class="co">#&gt;                                  "demog.alcohol_abuse" </span></span>
<span><span class="co">#&gt;                                        "Alcohol Abuse" </span></span>
<span><span class="co">#&gt;                                     "demog.ivdu_abuse" </span></span>
<span><span class="co">#&gt;                                           "Ivdu Abuse" </span></span>
<span><span class="co">#&gt;                                "demog.marijuana_abuse" </span></span>
<span><span class="co">#&gt;                                      "Marijuana Abuse" </span></span>
<span><span class="co">#&gt;                       "demog.other_inhaled_drug_abuse" </span></span>
<span><span class="co">#&gt;                             "Other Inhaled Drug Abuse" </span></span>
<span><span class="co">#&gt;                                         "demog.vaping" </span></span>
<span><span class="co">#&gt;                                               "Vaping" </span></span>
<span><span class="co">#&gt;                               "demog.units_of_alcohol" </span></span>
<span><span class="co">#&gt;                                     "Units Of Alcohol" </span></span>
<span><span class="co">#&gt;            "vaccination.covid_vaccine_contraindicated" </span></span>
<span><span class="co">#&gt;                        "COVID Vaccine Contraindicated" </span></span>
<span><span class="co">#&gt;                        "vaccination.covid_vaccination" </span></span>
<span><span class="co">#&gt;                                    "COVID Vaccination" </span></span>
<span><span class="co">#&gt;                          "vaccination.first_dose_date" </span></span>
<span><span class="co">#&gt;                                      "First Dose Date" </span></span>
<span><span class="co">#&gt;                         "vaccination.second_dose_date" </span></span>
<span><span class="co">#&gt;                                     "Second Dose Date" </span></span>
<span><span class="co">#&gt;                          "vaccination.third_dose_date" </span></span>
<span><span class="co">#&gt;                                      "Third Dose Date" </span></span>
<span><span class="co">#&gt;                         "vaccination.fourth_dose_date" </span></span>
<span><span class="co">#&gt;                                     "Fourth Dose Date" </span></span>
<span><span class="co">#&gt;                          "vaccination.fifth_dose_date" </span></span>
<span><span class="co">#&gt;                                      "Fifth Dose Date" </span></span>
<span><span class="co">#&gt;                          "vaccination.sixth_dose_date" </span></span>
<span><span class="co">#&gt;                                      "Sixth Dose Date" </span></span>
<span><span class="co">#&gt;                         "vaccination.first_dose_brand" </span></span>
<span><span class="co">#&gt;                                     "First Dose Brand" </span></span>
<span><span class="co">#&gt;                        "vaccination.second_dose_brand" </span></span>
<span><span class="co">#&gt;                                    "Second Dose Brand" </span></span>
<span><span class="co">#&gt;                         "vaccination.third_dose_brand" </span></span>
<span><span class="co">#&gt;                                     "Third Dose Brand" </span></span>
<span><span class="co">#&gt;                        "vaccination.fourth_dose_brand" </span></span>
<span><span class="co">#&gt;                                    "Fourth Dose Brand" </span></span>
<span><span class="co">#&gt;                         "vaccination.fifth_dose_brand" </span></span>
<span><span class="co">#&gt;                                     "Fifth Dose Brand" </span></span>
<span><span class="co">#&gt;                         "vaccination.sixth_dose_brand" </span></span>
<span><span class="co">#&gt;                                     "Sixth Dose Brand" </span></span>
<span><span class="co">#&gt;              "admission.time_since_first_vaccine_dose" </span></span>
<span><span class="co">#&gt;                        "Time Since First Vaccine Dose" </span></span>
<span><span class="co">#&gt;             "admission.time_since_second_vaccine_dose" </span></span>
<span><span class="co">#&gt;                       "Time Since Second Vaccine Dose" </span></span>
<span><span class="co">#&gt;              "admission.time_since_third_vaccine_dose" </span></span>
<span><span class="co">#&gt;                        "Time Since Third Vaccine Dose" </span></span>
<span><span class="co">#&gt;             "admission.time_since_fourth_vaccine_dose" </span></span>
<span><span class="co">#&gt;                       "Time Since Fourth Vaccine Dose" </span></span>
<span><span class="co">#&gt;              "admission.time_since_fifth_vaccine_dose" </span></span>
<span><span class="co">#&gt;                        "Time Since Fifth Vaccine Dose" </span></span>
<span><span class="co">#&gt;              "admission.time_since_sixth_vaccine_dose" </span></span>
<span><span class="co">#&gt;                        "Time Since Sixth Vaccine Dose" </span></span>
<span><span class="co">#&gt;                       "vaccination.last_flu_dose_date" </span></span>
<span><span class="co">#&gt;                                   "Last Flu Dose Date" </span></span>
<span><span class="co">#&gt;           "admission.time_since_last_flu_vaccine_dose" </span></span>
<span><span class="co">#&gt;                     "Time Since Last Flu Vaccine Dose" </span></span>
<span><span class="co">#&gt;              "vaccination.last_pneumococcal_dose_date" </span></span>
<span><span class="co">#&gt;                          "Last Pneumococcal Dose Date" </span></span>
<span><span class="co">#&gt;  "admission.time_since_last_pneumococcal_vaccine_dose" </span></span>
<span><span class="co">#&gt;            "Time Since Last Pneumococcal Vaccine Dose" </span></span>
<span><span class="co">#&gt;                                      "genomic.variant" </span></span>
<span><span class="co">#&gt;                                              "Variant" </span></span>
<span><span class="co">#&gt;                                       "admission.year" </span></span>
<span><span class="co">#&gt;                                                 "Year" </span></span>
<span><span class="co">#&gt;                                 "admission.study_week" </span></span>
<span><span class="co">#&gt;                                           "Study Week" </span></span>
<span><span class="co">#&gt;                                       "admission.date" </span></span>
<span><span class="co">#&gt;                                                 "Date" </span></span>
<span><span class="co">#&gt;                                       "admin.hospital" </span></span>
<span><span class="co">#&gt;                                             "Hospital" </span></span>
<span><span class="co">#&gt;                 "admission.on_inhaled_corticosteroids" </span></span>
<span><span class="co">#&gt;                           "On Inhaled Corticosteroids" </span></span>
<span><span class="co">#&gt;                       "admission.on_immunosuppression" </span></span>
<span><span class="co">#&gt;                                 "On Immunosuppression" </span></span>
<span><span class="co">#&gt;             "admission.pneumonia_severity_index_class" </span></span>
<span><span class="co">#&gt;                       "Pneumonia Severity Index Class" </span></span>
<span><span class="co">#&gt;                     "admission.curb_65_severity_score" </span></span>
<span><span class="co">#&gt;                                         "CURB65 Score" </span></span>
<span><span class="co">#&gt;                                "admission.news2_score" </span></span>
<span><span class="co">#&gt;                                          "NEWS2 Score" </span></span>
<span><span class="co">#&gt;                                   "admission.oximetry" </span></span>
<span><span class="co">#&gt;                                             "Oximetry" </span></span>
<span><span class="co">#&gt;                           "admission.respiratory_rate" </span></span>
<span><span class="co">#&gt;                                     "Respiratory Rate" </span></span>
<span><span class="co">#&gt;                                 "admission.max_oxygen" </span></span>
<span><span class="co">#&gt;                                           "Max Oxygen" </span></span>
<span><span class="co">#&gt;                                "admission.systolic_bp" </span></span>
<span><span class="co">#&gt;                                          "Systolic BP" </span></span>
<span><span class="co">#&gt;                               "admission.diastolic_bp" </span></span>
<span><span class="co">#&gt;                                         "Diastolic BP" </span></span>
<span><span class="co">#&gt;                                 "admission.heart_rate" </span></span>
<span><span class="co">#&gt;                                           "Heart Rate" </span></span>
<span><span class="co">#&gt;                                "admission.temperature" </span></span>
<span><span class="co">#&gt;                                          "Temperature" </span></span>
<span><span class="co">#&gt;                          "admission.duration_symptoms" </span></span>
<span><span class="co">#&gt;                                    "Duration Symptoms" </span></span>
<span><span class="co">#&gt;                   "admission.previous_covid_infection" </span></span>
<span><span class="co">#&gt;                             "Previous COVID Infection" </span></span>
<span><span class="co">#&gt;              "admission.previous_covid_infection_date" </span></span>
<span><span class="co">#&gt;                        "Previous COVID Infection Date" </span></span>
<span><span class="co">#&gt;                 "admission.time_since_covid_diagnosis" </span></span>
<span><span class="co">#&gt;                           "Time Since COVID Diagnosis" </span></span>
<span><span class="co">#&gt;                             "admission.rockwood_score" </span></span>
<span><span class="co">#&gt;                                       "Rockwood Score" </span></span>
<span><span class="co">#&gt;                 "admission.charlson_comorbidity_index" </span></span>
<span><span class="co">#&gt;                                                  "CCI" </span></span>
<span><span class="co">#&gt;                                     "admission.height" </span></span>
<span><span class="co">#&gt;                                               "Height" </span></span>
<span><span class="co">#&gt;                                     "admission.weight" </span></span>
<span><span class="co">#&gt;                                               "Weight" </span></span>
<span><span class="co">#&gt;                                        "admission.BMI" </span></span>
<span><span class="co">#&gt;                                                  "BMI" </span></span>
<span><span class="co">#&gt;                                 "admission.cxr_normal" </span></span>
<span><span class="co">#&gt;                                           "CXR Normal" </span></span>
<span><span class="co">#&gt;                              "admission.cxr_pneumonia" </span></span>
<span><span class="co">#&gt;                                        "CXR Pneumonia" </span></span>
<span><span class="co">#&gt;                          "admission.cxr_heart_failure" </span></span>
<span><span class="co">#&gt;                                    "CXR Heart Failure" </span></span>
<span><span class="co">#&gt;                       "admission.cxr_pleural_effusion" </span></span>
<span><span class="co">#&gt;                                 "CXR Pleural Effusion" </span></span>
<span><span class="co">#&gt;                          "admission.cxr_covid_changes" </span></span>
<span><span class="co">#&gt;                                    "CXR COVID Changes" </span></span>
<span><span class="co">#&gt;                                  "admission.cxr_other" </span></span>
<span><span class="co">#&gt;                                            "CXR Other" </span></span>
<span><span class="co">#&gt;                                       "day_7.max_peep" </span></span>
<span><span class="co">#&gt;                                             "Max PEEP" </span></span>
<span><span class="co">#&gt;                                 "day_7.length_of_stay" </span></span>
<span><span class="co">#&gt;                                       "Length of Stay" </span></span>
<span><span class="co">#&gt;                                 "day_7.max_care_level" </span></span>
<span><span class="co">#&gt;                                       "Max Care Level" </span></span>
<span><span class="co">#&gt;                                   "day_7.still_on_icu" </span></span>
<span><span class="co">#&gt;                                         "Still On ICU" </span></span>
<span><span class="co">#&gt;                             "day_7.icu_length_of_stay" </span></span>
<span><span class="co">#&gt;                                   "ICU Length Of Stay" </span></span>
<span><span class="co">#&gt;                          "day_7.max_ventilation_level" </span></span>
<span><span class="co">#&gt;                                "Max Ventilation Level" </span></span>
<span><span class="co">#&gt;                                   "day_7.max_o2_level" </span></span>
<span><span class="co">#&gt;                                             "Max FiO2" </span></span>
<span><span class="co">#&gt;                              "day_7.ionotropes_needed" </span></span>
<span><span class="co">#&gt;                                    "Ionotropes Needed" </span></span>
<span><span class="co">#&gt;                                             "day_7.PE" </span></span>
<span><span class="co">#&gt;                                                   "PE" </span></span>
<span><span class="co">#&gt;                                            "day_7.DVT" </span></span>
<span><span class="co">#&gt;                                                  "DVT" </span></span>
<span><span class="co">#&gt;                                            "day_7.ARF" </span></span>
<span><span class="co">#&gt;                                                  "ARF" </span></span>
<span><span class="co">#&gt;                                         "day_7.NSTEMI" </span></span>
<span><span class="co">#&gt;                                               "NSTEMI" </span></span>
<span><span class="co">#&gt;                                          "day_7.STEMI" </span></span>
<span><span class="co">#&gt;                                                "STEMI" </span></span>
<span><span class="co">#&gt;                                "day_7.cardiac_failure" </span></span>
<span><span class="co">#&gt;                                      "Cardiac Failure" </span></span>
<span><span class="co">#&gt;                                         "day_7.new_AF" </span></span>
<span><span class="co">#&gt;                                               "New AF" </span></span>
<span><span class="co">#&gt;                            "day_7.new_other_arrythmia" </span></span>
<span><span class="co">#&gt;                                  "New Other Arrythmia" </span></span>
<span><span class="co">#&gt;                                 "day_7.inpatient_fall" </span></span>
<span><span class="co">#&gt;                                       "Inpatient Fall" </span></span>
<span><span class="co">#&gt;                             "day_7.other_complication" </span></span>
<span><span class="co">#&gt;                                   "Other Complication" </span></span>
<span><span class="co">#&gt;                                "day_7.no_complication" </span></span>
<span><span class="co">#&gt;                                      "No Complication" </span></span>
<span><span class="co">#&gt;                                          "day_7.death" </span></span>
<span><span class="co">#&gt;                                                "Death" </span></span>
<span><span class="co">#&gt;                              "treatment.dexamethasone" </span></span>
<span><span class="co">#&gt;                                        "Dexamethasone" </span></span>
<span><span class="co">#&gt;                                 "treatment.remdesevir" </span></span>
<span><span class="co">#&gt;                                           "Remdesevir" </span></span>
<span><span class="co">#&gt;                                "treatment.tocilizumab" </span></span>
<span><span class="co">#&gt;                                          "Tocilizumab" </span></span>
<span><span class="co">#&gt;                                  "treatment.sarilumab" </span></span>
<span><span class="co">#&gt;                                            "Sarilumab" </span></span>
<span><span class="co">#&gt;                              "treatment.in_drug_trial" </span></span>
<span><span class="co">#&gt;                                        "In Drug Trial" </span></span>
<span><span class="co">#&gt;                          "treatment.no_drug_treatment" </span></span>
<span><span class="co">#&gt;                                    "No Drug Treatment" </span></span>
<span><span class="co">#&gt;                                 "treatment.sotrovimab" </span></span>
<span><span class="co">#&gt;                                           "Sotrovimab" </span></span>
<span><span class="co">#&gt;                               "outcome.length_of_stay" </span></span>
<span><span class="co">#&gt;                                       "Length Of Stay" </span></span>
<span><span class="co">#&gt;                            "outcome.survival_duration" </span></span>
<span><span class="co">#&gt;                                    "Survival Duration" </span></span>
<span><span class="co">#&gt;                              "outcome.inpatient_death" </span></span>
<span><span class="co">#&gt;                                      "Inpatient Death" </span></span>
<span><span class="co">#&gt;                                 "outcome.icu_duration" </span></span>
<span><span class="co">#&gt;                                         "ICU Duration" </span></span>
<span><span class="co">#&gt;                   "outcome.respiratory_support_needed" </span></span>
<span><span class="co">#&gt;                           "Respiratory Support Needed" </span></span>
<span><span class="co">#&gt;                          "outcome.ventilator_duration" </span></span>
<span><span class="co">#&gt;                                  "Ventilator Duration" </span></span>
<span><span class="co">#&gt;                   "outcome.endotracheal_tube_duration" </span></span>
<span><span class="co">#&gt;                           "Endotracheal Tube Duration" </span></span>
<span><span class="co">#&gt;                       "outcome.renal_support_duration" </span></span>
<span><span class="co">#&gt;                               "Renal Support Duration" </span></span>
<span><span class="co">#&gt;                          "outcome.acute_renal_failure" </span></span>
<span><span class="co">#&gt;                                  "Acute Renal Failure" </span></span>
<span><span class="co">#&gt;                            "outcome.liver_dysfunction" </span></span>
<span><span class="co">#&gt;                                    "Liver Dysfunction" </span></span>
<span><span class="co">#&gt;                  "outcome.hospital_acquired_infection" </span></span>
<span><span class="co">#&gt;                          "Hospital Acquired Infection" </span></span>
<span><span class="co">#&gt;          "outcome.acute_respiratory_distress_syndrome" </span></span>
<span><span class="co">#&gt;                  "Acute Respiratory Distress Syndrome" </span></span>
<span><span class="co">#&gt;                                       "outcome.NSTEMI" </span></span>
<span><span class="co">#&gt;                                               "NSTEMI" </span></span>
<span><span class="co">#&gt;                                        "outcome.STEMI" </span></span>
<span><span class="co">#&gt;                                                "STEMI" </span></span>
<span><span class="co">#&gt;                                       "outcome.new_AF" </span></span>
<span><span class="co">#&gt;                                               "New AF" </span></span>
<span><span class="co">#&gt;                          "outcome.new_other_arrhthmia" </span></span>
<span><span class="co">#&gt;                                  "New Other Arrhthmia" </span></span>
<span><span class="co">#&gt;                                       "outcome.stroke" </span></span>
<span><span class="co">#&gt;                                               "Stroke" </span></span>
<span><span class="co">#&gt;                                          "outcome.DVT" </span></span>
<span><span class="co">#&gt;                                                  "DVT" </span></span>
<span><span class="co">#&gt;                                           "outcome.PE" </span></span>
<span><span class="co">#&gt;                                                   "PE" </span></span>
<span><span class="co">#&gt;                                "outcome.heart_failure" </span></span>
<span><span class="co">#&gt;                                        "Heart Failure" </span></span>
<span><span class="co">#&gt;                             "outcome.fall_in_hospital" </span></span>
<span><span class="co">#&gt;                                     "Fall In Hospital" </span></span>
<span><span class="co">#&gt;                             "outcome.reduced_mobility" </span></span>
<span><span class="co">#&gt;                                     "Reduced Mobility" </span></span>
<span><span class="co">#&gt;                  "outcome.increasing_care_requirement" </span></span>
<span><span class="co">#&gt;                          "Increasing Care Requirement" </span></span>
<span><span class="co">#&gt;                             "outcome.no_complications" </span></span>
<span><span class="co">#&gt;                                     "No Complications" </span></span>
<span><span class="co">#&gt;            "outcome.highest_level_ventilatory_support" </span></span>
<span><span class="co">#&gt;                    "Highest Level Ventilatory Support" </span></span>
<span><span class="co">#&gt;                                "outcome.recieved_ecmo" </span></span>
<span><span class="co">#&gt;                                        "Recieved Ecmo" </span></span>
<span><span class="co">#&gt;                          "outcome.recieved_ionotropes" </span></span>
<span><span class="co">#&gt;                                  "Recieved Ionotropes" </span></span>
<span><span class="co">#&gt;                            "outcome.functional_status" </span></span>
<span><span class="co">#&gt;                                    "Functional Status" </span></span>
<span><span class="co">#&gt;                         "symptom.abnormal_temperature" </span></span>
<span><span class="co">#&gt;                                 "Abnormal Temperature" </span></span>
<span><span class="co">#&gt;                         "symptom.pleuritic_chest_pain" </span></span>
<span><span class="co">#&gt;                                 "Pleuritic Chest Pain" </span></span>
<span><span class="co">#&gt;                                        "symptom.cough" </span></span>
<span><span class="co">#&gt;                                                "Cough" </span></span>
<span><span class="co">#&gt;                            "symptom.productive_sputum" </span></span>
<span><span class="co">#&gt;                                    "Productive Sputum" </span></span>
<span><span class="co">#&gt;                                     "symptom.dyspnoea" </span></span>
<span><span class="co">#&gt;                                             "Dyspnoea" </span></span>
<span><span class="co">#&gt;                                   "symptom.tachypnoea" </span></span>
<span><span class="co">#&gt;                                           "Tachypnoea" </span></span>
<span><span class="co">#&gt;                                      "symptom.anosmia" </span></span>
<span><span class="co">#&gt;                                              "Anosmia" </span></span>
<span><span class="co">#&gt;                                      "symptom.ageusia" </span></span>
<span><span class="co">#&gt;                                              "Ageusia" </span></span>
<span><span class="co">#&gt;                                    "symptom.dysguesia" </span></span>
<span><span class="co">#&gt;                                            "Dysguesia" </span></span>
<span><span class="co">#&gt;                                        "symptom.fever" </span></span>
<span><span class="co">#&gt;                                                "Fever" </span></span>
<span><span class="co">#&gt;                                  "symptom.hypothermia" </span></span>
<span><span class="co">#&gt;                                          "Hypothermia" </span></span>
<span><span class="co">#&gt;                                       "symptom.chills" </span></span>
<span><span class="co">#&gt;                                               "Chills" </span></span>
<span><span class="co">#&gt;                                     "symptom.headache" </span></span>
<span><span class="co">#&gt;                                             "Headache" </span></span>
<span><span class="co">#&gt;                                      "symptom.malaise" </span></span>
<span><span class="co">#&gt;                                              "Malaise" </span></span>
<span><span class="co">#&gt;                                       "symptom.wheeze" </span></span>
<span><span class="co">#&gt;                                               "Wheeze" </span></span>
<span><span class="co">#&gt;                                      "symptom.myalgia" </span></span>
<span><span class="co">#&gt;                                              "Myalgia" </span></span>
<span><span class="co">#&gt;                          "symptom.worsening_confusion" </span></span>
<span><span class="co">#&gt;                                  "Worsening Confusion" </span></span>
<span><span class="co">#&gt;                        "symptom.general_deterioration" </span></span>
<span><span class="co">#&gt;                                "General Deterioration" </span></span>
<span><span class="co">#&gt;                 "symptom.oxygen_required_on_admission" </span></span>
<span><span class="co">#&gt;                         "Oxygen Required On Admission" </span></span>
<span><span class="co">#&gt;                                  "comorbid.no_resp_dx" </span></span>
<span><span class="co">#&gt;                                           "No Resp Dx" </span></span>
<span><span class="co">#&gt;                                        "comorbid.copd" </span></span>
<span><span class="co">#&gt;                                                 "COPD" </span></span>
<span><span class="co">#&gt;                                      "comorbid.asthma" </span></span>
<span><span class="co">#&gt;                                               "Asthma" </span></span>
<span><span class="co">#&gt;                                  "comorbid.resp_other" </span></span>
<span><span class="co">#&gt;                                           "Resp Other" </span></span>
<span><span class="co">#&gt;                              "comorbid.bronchiectasis" </span></span>
<span><span class="co">#&gt;                                       "Bronchiectasis" </span></span>
<span><span class="co">#&gt;                        "comorbid.interstitial_lung_dx" </span></span>
<span><span class="co">#&gt;                                 "Interstitial Lung Dx" </span></span>
<span><span class="co">#&gt;                             "comorbid.cystic_fibrosis" </span></span>
<span><span class="co">#&gt;                                      "Cystic Fibrosis" </span></span>
<span><span class="co">#&gt;                      "comorbid.pulmonary_hypertension" </span></span>
<span><span class="co">#&gt;                               "Pulmonary Hypertension" </span></span>
<span><span class="co">#&gt;                          "comorbid.chronic_pleural_dx" </span></span>
<span><span class="co">#&gt;                                   "Chronic Pleural Dx" </span></span>
<span><span class="co">#&gt;                       "comorbid.other_chronic_resp_dx" </span></span>
<span><span class="co">#&gt;                                "Other Chronic Resp Dx" </span></span>
<span><span class="co">#&gt;                                 "comorbid.no_heart_dx" </span></span>
<span><span class="co">#&gt;                                          "No Heart Dx" </span></span>
<span><span class="co">#&gt;                                         "comorbid.ccf" </span></span>
<span><span class="co">#&gt;                                                  "CCF" </span></span>
<span><span class="co">#&gt;                                         "comorbid.ihd" </span></span>
<span><span class="co">#&gt;                                                  "IHD" </span></span>
<span><span class="co">#&gt;                                "comorbid.hypertension" </span></span>
<span><span class="co">#&gt;                                         "Hypertension" </span></span>
<span><span class="co">#&gt;                              "comorbid.other_heart_dx" </span></span>
<span><span class="co">#&gt;                                       "Other Heart Dx" </span></span>
<span><span class="co">#&gt;                                 "comorbid.previous_mi" </span></span>
<span><span class="co">#&gt;                                          "Previous MI" </span></span>
<span><span class="co">#&gt;                         "comorbid.congenital_heart_dx" </span></span>
<span><span class="co">#&gt;                                  "Congenital Heart Dx" </span></span>
<span><span class="co">#&gt;                                          "comorbid.af" </span></span>
<span><span class="co">#&gt;                                                   "AF" </span></span>
<span><span class="co">#&gt;                             "comorbid.other_arrythmia" </span></span>
<span><span class="co">#&gt;                                      "Other Arrythmia" </span></span>
<span><span class="co">#&gt;                                   "comorbid.pacemaker" </span></span>
<span><span class="co">#&gt;                                            "Pacemaker" </span></span>
<span><span class="co">#&gt;                           "comorbid.valvular_heart_dx" </span></span>
<span><span class="co">#&gt;                                    "Valvular Heart Dx" </span></span>
<span><span class="co">#&gt;                        "comorbid.other_other_heart_dx" </span></span>
<span><span class="co">#&gt;                                 "Other Other Heart Dx" </span></span>
<span><span class="co">#&gt;                                    "comorbid.diabetes" </span></span>
<span><span class="co">#&gt;                                             "Diabetes" </span></span>
<span><span class="co">#&gt;                        "comorbid.diabetes_medications" </span></span>
<span><span class="co">#&gt;                                 "Diabetes Medications" </span></span>
<span><span class="co">#&gt;                                 "comorbid.neuro_other" </span></span>
<span><span class="co">#&gt;                                          "Neuro Other" </span></span>
<span><span class="co">#&gt;                                         "comorbid.cva" </span></span>
<span><span class="co">#&gt;                                                  "CVA" </span></span>
<span><span class="co">#&gt;                                         "comorbid.tia" </span></span>
<span><span class="co">#&gt;                                                  "TIA" </span></span>
<span><span class="co">#&gt;                                  "comorbid.hemiplegia" </span></span>
<span><span class="co">#&gt;                                           "Hemiplegia" </span></span>
<span><span class="co">#&gt;                                  "comorbid.paraplegia" </span></span>
<span><span class="co">#&gt;                                           "Paraplegia" </span></span>
<span><span class="co">#&gt;                                 "comorbid.no_neuro_dx" </span></span>
<span><span class="co">#&gt;                                          "No Neuro Dx" </span></span>
<span><span class="co">#&gt;                                 "comorbid.no_dementia" </span></span>
<span><span class="co">#&gt;                                          "No Dementia" </span></span>
<span><span class="co">#&gt;                                    "comorbid.dementia" </span></span>
<span><span class="co">#&gt;                                             "Dementia" </span></span>
<span><span class="co">#&gt;                        "comorbid.cognitive_impairment" </span></span>
<span><span class="co">#&gt;                                 "Cognitive Impairment" </span></span>
<span><span class="co">#&gt;                                "comorbid.solid_cancer" </span></span>
<span><span class="co">#&gt;                                         "Solid Cancer" </span></span>
<span><span class="co">#&gt;                    "comorbid.no_haemotological_cancer" </span></span>
<span><span class="co">#&gt;                             "No Haemotological Cancer" </span></span>
<span><span class="co">#&gt;                                   "comorbid.leukaemia" </span></span>
<span><span class="co">#&gt;                                            "Leukaemia" </span></span>
<span><span class="co">#&gt;                                    "comorbid.lymphoma" </span></span>
<span><span class="co">#&gt;                                             "Lymphoma" </span></span>
<span><span class="co">#&gt;                                         "comorbid.ckd" </span></span>
<span><span class="co">#&gt;                                                  "CKD" </span></span>
<span><span class="co">#&gt;                               "comorbid.liver_disease" </span></span>
<span><span class="co">#&gt;                                        "Liver Disease" </span></span>
<span><span class="co">#&gt;                              "comorbid.gastric_ulcers" </span></span>
<span><span class="co">#&gt;                                       "Gastric Ulcers" </span></span>
<span><span class="co">#&gt;                              "comorbid.periph_vasc_dx" </span></span>
<span><span class="co">#&gt;                                       "Periph Vasc Dx" </span></span>
<span><span class="co">#&gt;                        "comorbid.connective_tissue_dx" </span></span>
<span><span class="co">#&gt;                                 "Connective Tissue Dx" </span></span>
<span><span class="co">#&gt;                            "comorbid.immunodeficiency" </span></span>
<span><span class="co">#&gt;                                     "Immunodeficiency" </span></span>
<span><span class="co">#&gt;                    "comorbid.other_pneumococcal_risks" </span></span>
<span><span class="co">#&gt;                             "Other Pneumococcal Risks" </span></span>
<span><span class="co">#&gt;                        "comorbid.transplant_recipient" </span></span>
<span><span class="co">#&gt;                                 "Transplant Recipient" </span></span>
<span><span class="co">#&gt;                                   "comorbid.pregnancy" </span></span>
<span><span class="co">#&gt;                                            "Pregnancy" </span></span>
<span><span class="co">#&gt;                                      "comorbid.no_HIV" </span></span>
<span><span class="co">#&gt;                                               "No HIV" </span></span>
<span><span class="co">#&gt;                                         "comorbid.HIV" </span></span>
<span><span class="co">#&gt;                                                  "HIV" </span></span>
<span><span class="co">#&gt;                                        "comorbid.AIDS" </span></span>
<span><span class="co">#&gt;                                                 "AIDS" </span></span>
<span><span class="co">#&gt;           "diagnosis.SOC_CAP_radiologically_confirmed" </span></span>
<span><span class="co">#&gt;                     "Soc Cap Radiologically Confirmed" </span></span>
<span><span class="co">#&gt;               "diagnosis.SOC_CAP_clinically_confirmed" </span></span>
<span><span class="co">#&gt;                         "Soc Cap Clinically Confirmed" </span></span>
<span><span class="co">#&gt;                       "diagnosis.SOC_CAP_no_radiology" </span></span>
<span><span class="co">#&gt;                                 "Soc Cap No Radiology" </span></span>
<span><span class="co">#&gt;                                   "diagnosis.SOC_LRTI" </span></span>
<span><span class="co">#&gt;                                             "Soc LRTI" </span></span>
<span><span class="co">#&gt;                     "diagnosis.SOC_Empyema_or_abscess" </span></span>
<span><span class="co">#&gt;                               "Soc Empyema Or Abscess" </span></span>
<span><span class="co">#&gt;                      "diagnosis.SOC_exacerbation_COPD" </span></span>
<span><span class="co">#&gt;                                "Soc Exacerbation COPD" </span></span>
<span><span class="co">#&gt;                  "diagnosis.SOC_exacerbation_non_COPD" </span></span>
<span><span class="co">#&gt;                            "Soc Exacerbation Non COPD" </span></span>
<span><span class="co">#&gt;               "diagnosis.SOC_congestive_heart_failure" </span></span>
<span><span class="co">#&gt;                         "Soc Congestive Heart Failure" </span></span>
<span><span class="co">#&gt;                 "diagnosis.SOC_non_infectious_process" </span></span>
<span><span class="co">#&gt;                           "Soc Non Infectious Process" </span></span>
<span><span class="co">#&gt;                               "diagnosis.SOC_non_LRTI" </span></span>
<span><span class="co">#&gt;                                         "Soc Non LRTI" </span></span>
<span><span class="co">#&gt;                         "diagnosis.covid_19_diagnosis" </span></span>
<span><span class="co">#&gt;                                   "COVID 19 Diagnosis" </span></span>
<span><span class="co">#&gt;                                "vaccination.pneumovax" </span></span>
<span><span class="co">#&gt;                                            "Pneumovax" </span></span>
<span><span class="co">#&gt;                    "vaccination.influenza_vaccination" </span></span>
<span><span class="co">#&gt;                                "Influenza Vaccination" </span></span>
<span><span class="co">#&gt;                                      "admin.consented" </span></span>
<span><span class="co">#&gt;                                            "Consented" </span></span>
<span><span class="co">#&gt;                                   "admin.pp_consented" </span></span>
<span><span class="co">#&gt;                                         "Pp Consented" </span></span>
<span><span class="co">#&gt;                                     "admin.withdrawal" </span></span>
<span><span class="co">#&gt;                                           "Withdrawal"</span></span>
<span></span>
<span><span class="co"># Map a single column to a readable label</span></span>
<span><span class="co"># readable_label_mapping()</span></span>
<span><span class="fu"><a href="../reference/readable_label.html">readable_label</a></span><span class="op">(</span><span class="st">"comorbid.previous_MI"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Previous MI"</span></span>
<span></span>
<span><span class="co"># get mapping from original field names pre-normalisation</span></span>
<span><span class="fu"><a href="../reference/original_field_names.html">original_field_names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                          record_number </span></span>
<span><span class="co">#&gt;                                  "admin.record_number" </span></span>
<span><span class="co">#&gt;                                        ac_study_number </span></span>
<span><span class="co">#&gt;                        "admin.consented_record_number" </span></span>
<span><span class="co">#&gt;                                             nhs_number </span></span>
<span><span class="co">#&gt;                             "admin.patient_identifier" </span></span>
<span><span class="co">#&gt;                                              duplicate </span></span>
<span><span class="co">#&gt;                                      "admin.duplicate" </span></span>
<span><span class="co">#&gt;                                        enrollment_date </span></span>
<span><span class="co">#&gt;                                "admin.enrollment_date" </span></span>
<span><span class="co">#&gt;                                             study_year </span></span>
<span><span class="co">#&gt;                                     "admin.study_year" </span></span>
<span><span class="co">#&gt;                                                   file </span></span>
<span><span class="co">#&gt;                                      "admin.data_file" </span></span>
<span><span class="co">#&gt;                                            week_number </span></span>
<span><span class="co">#&gt;                                    "admin.week_number" </span></span>
<span><span class="co">#&gt;                                          c19_diagnosis </span></span>
<span><span class="co">#&gt;           "diagnosis.standard_of_care_COVID_diagnosis" </span></span>
<span><span class="co">#&gt;                               clinical_radio_diagnosis </span></span>
<span><span class="co">#&gt; "diagnosis.clinical_or_radiological_LRTI_or_pneumonia" </span></span>
<span><span class="co">#&gt;                                           c19_adm_swab </span></span>
<span><span class="co">#&gt;                             "diagnosis.admission_swab" </span></span>
<span><span class="co">#&gt;                                          c19_test_type </span></span>
<span><span class="co">#&gt;                                  "diagnosis.test_type" </span></span>
<span><span class="co">#&gt;                              qualifying_symptoms_signs </span></span>
<span><span class="co">#&gt;                  "diagnosis.qualifying_symptoms_signs" </span></span>
<span><span class="co">#&gt;                                           cc_critieria </span></span>
<span><span class="co">#&gt;                "diagnosis.meets_case_control_criteria" </span></span>
<span><span class="co">#&gt;                                            cc_pos_date </span></span>
<span><span class="co">#&gt;             "diagnosis.first_COVID_positive_swab_date" </span></span>
<span><span class="co">#&gt;                                                 gender </span></span>
<span><span class="co">#&gt;                                         "demog.gender" </span></span>
<span><span class="co">#&gt;                                       age_at_admission </span></span>
<span><span class="co">#&gt;                                            "demog.age" </span></span>
<span><span class="co">#&gt;                                              age_march </span></span>
<span><span class="co">#&gt;                              "demog.age_in_march_2021" </span></span>
<span><span class="co">#&gt;                                                    imd </span></span>
<span><span class="co">#&gt;                                     "demog.imd_decile" </span></span>
<span><span class="co">#&gt;                                                smoking </span></span>
<span><span class="co">#&gt;                                         "demog.smoker" </span></span>
<span><span class="co">#&gt;                                             ethnicity2 </span></span>
<span><span class="co">#&gt;                                      "demog.ethnicity" </span></span>
<span><span class="co">#&gt;                                              care_home </span></span>
<span><span class="co">#&gt;                             "demog.care_home_resident" </span></span>
<span><span class="co">#&gt;                                              drugs___1 </span></span>
<span><span class="co">#&gt;                                  "demog.no_drug_abuse" </span></span>
<span><span class="co">#&gt;                                              drugs___2 </span></span>
<span><span class="co">#&gt;                                  "demog.alcohol_abuse" </span></span>
<span><span class="co">#&gt;                                              drugs___3 </span></span>
<span><span class="co">#&gt;                                     "demog.ivdu_abuse" </span></span>
<span><span class="co">#&gt;                                              drugs___4 </span></span>
<span><span class="co">#&gt;                                "demog.marijuana_abuse" </span></span>
<span><span class="co">#&gt;                                              drugs___5 </span></span>
<span><span class="co">#&gt;                       "demog.other_inhaled_drug_abuse" </span></span>
<span><span class="co">#&gt;                                                 vaping </span></span>
<span><span class="co">#&gt;                                         "demog.vaping" </span></span>
<span><span class="co">#&gt;                                              alc_units </span></span>
<span><span class="co">#&gt;                               "demog.units_of_alcohol" </span></span>
<span><span class="co">#&gt;                                       contraindication </span></span>
<span><span class="co">#&gt;            "vaccination.covid_vaccine_contraindicated" </span></span>
<span><span class="co">#&gt;                                            covid19_vax </span></span>
<span><span class="co">#&gt;                        "vaccination.covid_vaccination" </span></span>
<span><span class="co">#&gt;                                          covidvax_date </span></span>
<span><span class="co">#&gt;                          "vaccination.first_dose_date" </span></span>
<span><span class="co">#&gt;                                        covidvax_dose_2 </span></span>
<span><span class="co">#&gt;                         "vaccination.second_dose_date" </span></span>
<span><span class="co">#&gt;                                        covidvax_dose_3 </span></span>
<span><span class="co">#&gt;                          "vaccination.third_dose_date" </span></span>
<span><span class="co">#&gt;                                        covidvax_dose_4 </span></span>
<span><span class="co">#&gt;                         "vaccination.fourth_dose_date" </span></span>
<span><span class="co">#&gt;                                        covidvax_dose_5 </span></span>
<span><span class="co">#&gt;                          "vaccination.fifth_dose_date" </span></span>
<span><span class="co">#&gt;                                        covidvax_dose_6 </span></span>
<span><span class="co">#&gt;                          "vaccination.sixth_dose_date" </span></span>
<span><span class="co">#&gt;                             brand_of_covid19_vaccinati </span></span>
<span><span class="co">#&gt;                         "vaccination.first_dose_brand" </span></span>
<span><span class="co">#&gt;                                     covid19vax_brand_2 </span></span>
<span><span class="co">#&gt;                        "vaccination.second_dose_brand" </span></span>
<span><span class="co">#&gt;                                     covid19vax_brand_3 </span></span>
<span><span class="co">#&gt;                         "vaccination.third_dose_brand" </span></span>
<span><span class="co">#&gt;                                     covid19vax_brand_4 </span></span>
<span><span class="co">#&gt;                        "vaccination.fourth_dose_brand" </span></span>
<span><span class="co">#&gt;                                     covid19vax_brand_5 </span></span>
<span><span class="co">#&gt;                         "vaccination.fifth_dose_brand" </span></span>
<span><span class="co">#&gt;                                     covid19vax_brand_6 </span></span>
<span><span class="co">#&gt;                         "vaccination.sixth_dose_brand" </span></span>
<span><span class="co">#&gt;                                           c19vaxd1_adm </span></span>
<span><span class="co">#&gt;              "admission.time_since_first_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                           c19vaxd2_adm </span></span>
<span><span class="co">#&gt;             "admission.time_since_second_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                           c19vaxd3_adm </span></span>
<span><span class="co">#&gt;              "admission.time_since_third_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                           c19vaxd4_adm </span></span>
<span><span class="co">#&gt;             "admission.time_since_fourth_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                            c19vax5_adm </span></span>
<span><span class="co">#&gt;              "admission.time_since_fifth_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                            c19vax6_adm </span></span>
<span><span class="co">#&gt;              "admission.time_since_sixth_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                               flu_date </span></span>
<span><span class="co">#&gt;                       "vaccination.last_flu_dose_date" </span></span>
<span><span class="co">#&gt;                                          fluvax_adm_d1 </span></span>
<span><span class="co">#&gt;           "admission.time_since_last_flu_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                             ppv23_date </span></span>
<span><span class="co">#&gt;              "vaccination.last_pneumococcal_dose_date" </span></span>
<span><span class="co">#&gt;                                         ppv23vax_adm_d </span></span>
<span><span class="co">#&gt;  "admission.time_since_last_pneumococcal_vaccine_dose" </span></span>
<span><span class="co">#&gt;                                            c19_variant </span></span>
<span><span class="co">#&gt;                                      "genomic.variant" </span></span>
<span><span class="co">#&gt;                                                   year </span></span>
<span><span class="co">#&gt;                                       "admission.year" </span></span>
<span><span class="co">#&gt;                                             study_week </span></span>
<span><span class="co">#&gt;                                 "admission.study_week" </span></span>
<span><span class="co">#&gt;                                         admission_date </span></span>
<span><span class="co">#&gt;                                       "admission.date" </span></span>
<span><span class="co">#&gt;                                               hospital </span></span>
<span><span class="co">#&gt;                                       "admin.hospital" </span></span>
<span><span class="co">#&gt;                                                    ics </span></span>
<span><span class="co">#&gt;                 "admission.on_inhaled_corticosteroids" </span></span>
<span><span class="co">#&gt;                                                 immsup </span></span>
<span><span class="co">#&gt;                       "admission.on_immunosuppression" </span></span>
<span><span class="co">#&gt;                                              psi_class </span></span>
<span><span class="co">#&gt;             "admission.pneumonia_severity_index_class" </span></span>
<span><span class="co">#&gt;                                           crb_test_mai </span></span>
<span><span class="co">#&gt;                     "admission.curb_65_severity_score" </span></span>
<span><span class="co">#&gt;                                           news_2_total </span></span>
<span><span class="co">#&gt;                                "admission.news2_score" </span></span>
<span><span class="co">#&gt;                                               pulse_ox </span></span>
<span><span class="co">#&gt;                                   "admission.oximetry" </span></span>
<span><span class="co">#&gt;                                                     rr </span></span>
<span><span class="co">#&gt;                           "admission.respiratory_rate" </span></span>
<span><span class="co">#&gt;                                                   fio2 </span></span>
<span><span class="co">#&gt;                                 "admission.max_oxygen" </span></span>
<span><span class="co">#&gt;                                            systolic_bp </span></span>
<span><span class="co">#&gt;                                "admission.systolic_bp" </span></span>
<span><span class="co">#&gt;                                           diastolic_bp </span></span>
<span><span class="co">#&gt;                               "admission.diastolic_bp" </span></span>
<span><span class="co">#&gt;                                                     hr </span></span>
<span><span class="co">#&gt;                                 "admission.heart_rate" </span></span>
<span><span class="co">#&gt;                                            temperature </span></span>
<span><span class="co">#&gt;                                "admission.temperature" </span></span>
<span><span class="co">#&gt;                                  symptom_days_preadmit </span></span>
<span><span class="co">#&gt;                          "admission.duration_symptoms" </span></span>
<span><span class="co">#&gt;                                     previous_infection </span></span>
<span><span class="co">#&gt;                   "admission.previous_covid_infection" </span></span>
<span><span class="co">#&gt;                                 previousinfection_date </span></span>
<span><span class="co">#&gt;              "admission.previous_covid_infection_date" </span></span>
<span><span class="co">#&gt;                                            c19d_preadm </span></span>
<span><span class="co">#&gt;                 "admission.time_since_covid_diagnosis" </span></span>
<span><span class="co">#&gt;                                               rockwood </span></span>
<span><span class="co">#&gt;                             "admission.rockwood_score" </span></span>
<span><span class="co">#&gt;                                        cci_total_score </span></span>
<span><span class="co">#&gt;                 "admission.charlson_comorbidity_index" </span></span>
<span><span class="co">#&gt;                                                 height </span></span>
<span><span class="co">#&gt;                                     "admission.height" </span></span>
<span><span class="co">#&gt;                                                 weight </span></span>
<span><span class="co">#&gt;                                     "admission.weight" </span></span>
<span><span class="co">#&gt;                                                    bmi </span></span>
<span><span class="co">#&gt;                                        "admission.BMI" </span></span>
<span><span class="co">#&gt;                                        first_radio___1 </span></span>
<span><span class="co">#&gt;                                 "admission.cxr_normal" </span></span>
<span><span class="co">#&gt;                                        first_radio___2 </span></span>
<span><span class="co">#&gt;                              "admission.cxr_pneumonia" </span></span>
<span><span class="co">#&gt;                                        first_radio___3 </span></span>
<span><span class="co">#&gt;                          "admission.cxr_heart_failure" </span></span>
<span><span class="co">#&gt;                                        first_radio___4 </span></span>
<span><span class="co">#&gt;                       "admission.cxr_pleural_effusion" </span></span>
<span><span class="co">#&gt;                                        first_radio___5 </span></span>
<span><span class="co">#&gt;                          "admission.cxr_covid_changes" </span></span>
<span><span class="co">#&gt;                                        first_radio___6 </span></span>
<span><span class="co">#&gt;                                  "admission.cxr_other" </span></span>
<span><span class="co">#&gt;                                               c19_peep </span></span>
<span><span class="co">#&gt;                                       "day_7.max_peep" </span></span>
<span><span class="co">#&gt;                                            c19_hospadm </span></span>
<span><span class="co">#&gt;                                 "day_7.length_of_stay" </span></span>
<span><span class="co">#&gt;                                               c17_high </span></span>
<span><span class="co">#&gt;                                 "day_7.max_care_level" </span></span>
<span><span class="co">#&gt;                                               c19icuon </span></span>
<span><span class="co">#&gt;                                   "day_7.still_on_icu" </span></span>
<span><span class="co">#&gt;                                            c19_icudays </span></span>
<span><span class="co">#&gt;                             "day_7.icu_length_of_stay" </span></span>
<span><span class="co">#&gt;                                               c19_vent </span></span>
<span><span class="co">#&gt;                          "day_7.max_ventilation_level" </span></span>
<span><span class="co">#&gt;                                                 c19_ox </span></span>
<span><span class="co">#&gt;                                   "day_7.max_o2_level" </span></span>
<span><span class="co">#&gt;                                         c19_ionotropes </span></span>
<span><span class="co">#&gt;                              "day_7.ionotropes_needed" </span></span>
<span><span class="co">#&gt;                                   c19_complication___1 </span></span>
<span><span class="co">#&gt;                                             "day_7.PE" </span></span>
<span><span class="co">#&gt;                                   c19_complication___2 </span></span>
<span><span class="co">#&gt;                                            "day_7.DVT" </span></span>
<span><span class="co">#&gt;                                   c19_complication___3 </span></span>
<span><span class="co">#&gt;                                            "day_7.ARF" </span></span>
<span><span class="co">#&gt;                                   c19_complication___4 </span></span>
<span><span class="co">#&gt;                                         "day_7.NSTEMI" </span></span>
<span><span class="co">#&gt;                                   c19_complication___5 </span></span>
<span><span class="co">#&gt;                                          "day_7.STEMI" </span></span>
<span><span class="co">#&gt;                                   c19_complication___6 </span></span>
<span><span class="co">#&gt;                                "day_7.cardiac_failure" </span></span>
<span><span class="co">#&gt;                                   c19_complication___7 </span></span>
<span><span class="co">#&gt;                                         "day_7.new_AF" </span></span>
<span><span class="co">#&gt;                                   c19_complication___8 </span></span>
<span><span class="co">#&gt;                            "day_7.new_other_arrythmia" </span></span>
<span><span class="co">#&gt;                                   c19_complication___9 </span></span>
<span><span class="co">#&gt;                                 "day_7.inpatient_fall" </span></span>
<span><span class="co">#&gt;                                  c19_complication___10 </span></span>
<span><span class="co">#&gt;                             "day_7.other_complication" </span></span>
<span><span class="co">#&gt;                                  c19_complication___11 </span></span>
<span><span class="co">#&gt;                                "day_7.no_complication" </span></span>
<span><span class="co">#&gt;                                            c19_death7d </span></span>
<span><span class="co">#&gt;                                          "day_7.death" </span></span>
<span><span class="co">#&gt;                                           c19_meds___1 </span></span>
<span><span class="co">#&gt;                              "treatment.dexamethasone" </span></span>
<span><span class="co">#&gt;                                           c19_meds___2 </span></span>
<span><span class="co">#&gt;                                 "treatment.remdesevir" </span></span>
<span><span class="co">#&gt;                                           c19_meds___3 </span></span>
<span><span class="co">#&gt;                                "treatment.tocilizumab" </span></span>
<span><span class="co">#&gt;                                           c19_meds___4 </span></span>
<span><span class="co">#&gt;                                  "treatment.sarilumab" </span></span>
<span><span class="co">#&gt;                                           c19_meds___5 </span></span>
<span><span class="co">#&gt;                              "treatment.in_drug_trial" </span></span>
<span><span class="co">#&gt;                                           c19_meds___6 </span></span>
<span><span class="co">#&gt;                          "treatment.no_drug_treatment" </span></span>
<span><span class="co">#&gt;                                           c19_meds___7 </span></span>
<span><span class="co">#&gt;                                 "treatment.sotrovimab" </span></span>
<span><span class="co">#&gt;                                hospital_length_of_stay </span></span>
<span><span class="co">#&gt;                               "outcome.length_of_stay" </span></span>
<span><span class="co">#&gt;                                          survival_days </span></span>
<span><span class="co">#&gt;                            "outcome.survival_duration" </span></span>
<span><span class="co">#&gt;                                               ip_death </span></span>
<span><span class="co">#&gt;                              "outcome.inpatient_death" </span></span>
<span><span class="co">#&gt;                                            days_in_icu </span></span>
<span><span class="co">#&gt;                                 "outcome.icu_duration" </span></span>
<span><span class="co">#&gt;                             did_the_patient_have_respi </span></span>
<span><span class="co">#&gt;                   "outcome.respiratory_support_needed" </span></span>
<span><span class="co">#&gt;                             number_of_days_of_ventilat </span></span>
<span><span class="co">#&gt;                          "outcome.ventilator_duration" </span></span>
<span><span class="co">#&gt;                                               ett_days </span></span>
<span><span class="co">#&gt;                   "outcome.endotracheal_tube_duration" </span></span>
<span><span class="co">#&gt;                              renal_replacement_therapy </span></span>
<span><span class="co">#&gt;                       "outcome.renal_support_duration" </span></span>
<span><span class="co">#&gt;                                      complications___1 </span></span>
<span><span class="co">#&gt;                          "outcome.acute_renal_failure" </span></span>
<span><span class="co">#&gt;                                      complications___2 </span></span>
<span><span class="co">#&gt;                            "outcome.liver_dysfunction" </span></span>
<span><span class="co">#&gt;                                      complications___3 </span></span>
<span><span class="co">#&gt;                  "outcome.hospital_acquired_infection" </span></span>
<span><span class="co">#&gt;                                      complications___4 </span></span>
<span><span class="co">#&gt;          "outcome.acute_respiratory_distress_syndrome" </span></span>
<span><span class="co">#&gt;                                      complications___5 </span></span>
<span><span class="co">#&gt;                                       "outcome.NSTEMI" </span></span>
<span><span class="co">#&gt;                                      complications___6 </span></span>
<span><span class="co">#&gt;                                        "outcome.STEMI" </span></span>
<span><span class="co">#&gt;                                      complications___7 </span></span>
<span><span class="co">#&gt;                                       "outcome.new_AF" </span></span>
<span><span class="co">#&gt;                                      complications___8 </span></span>
<span><span class="co">#&gt;                          "outcome.new_other_arrhthmia" </span></span>
<span><span class="co">#&gt;                                      complications___9 </span></span>
<span><span class="co">#&gt;                                       "outcome.stroke" </span></span>
<span><span class="co">#&gt;                                     complications___10 </span></span>
<span><span class="co">#&gt;                                          "outcome.DVT" </span></span>
<span><span class="co">#&gt;                                     complications___11 </span></span>
<span><span class="co">#&gt;                                           "outcome.PE" </span></span>
<span><span class="co">#&gt;                                     complications___12 </span></span>
<span><span class="co">#&gt;                                "outcome.heart_failure" </span></span>
<span><span class="co">#&gt;                                     complications___13 </span></span>
<span><span class="co">#&gt;                             "outcome.fall_in_hospital" </span></span>
<span><span class="co">#&gt;                                     complications___14 </span></span>
<span><span class="co">#&gt;                             "outcome.reduced_mobility" </span></span>
<span><span class="co">#&gt;                                     complications___15 </span></span>
<span><span class="co">#&gt;                  "outcome.increasing_care_requirement" </span></span>
<span><span class="co">#&gt;                                     complications___16 </span></span>
<span><span class="co">#&gt;                             "outcome.no_complications" </span></span>
<span><span class="co">#&gt;                                    ventilatory_support </span></span>
<span><span class="co">#&gt;            "outcome.highest_level_ventilatory_support" </span></span>
<span><span class="co">#&gt;                             did_the_patient_receive_ec </span></span>
<span><span class="co">#&gt;                                "outcome.recieved_ecmo" </span></span>
<span><span class="co">#&gt;                             inotropic_support_required </span></span>
<span><span class="co">#&gt;                          "outcome.recieved_ionotropes" </span></span>
<span><span class="co">#&gt;                                       lrtd_30d_outcome </span></span>
<span><span class="co">#&gt;                            "outcome.functional_status" </span></span>
<span><span class="co">#&gt;                                                 fever2 </span></span>
<span><span class="co">#&gt;                         "symptom.abnormal_temperature" </span></span>
<span><span class="co">#&gt;                                            pleurtic_cp </span></span>
<span><span class="co">#&gt;                         "symptom.pleuritic_chest_pain" </span></span>
<span><span class="co">#&gt;                                                 cough2 </span></span>
<span><span class="co">#&gt;                                        "symptom.cough" </span></span>
<span><span class="co">#&gt;                                              sput_prod </span></span>
<span><span class="co">#&gt;                            "symptom.productive_sputum" </span></span>
<span><span class="co">#&gt;                                               dyspnoea </span></span>
<span><span class="co">#&gt;                                     "symptom.dyspnoea" </span></span>
<span><span class="co">#&gt;                                            tachypnoea2 </span></span>
<span><span class="co">#&gt;                                   "symptom.tachypnoea" </span></span>
<span><span class="co">#&gt;                                                anosmia </span></span>
<span><span class="co">#&gt;                                      "symptom.anosmia" </span></span>
<span><span class="co">#&gt;                                                ageusia </span></span>
<span><span class="co">#&gt;                                      "symptom.ageusia" </span></span>
<span><span class="co">#&gt;                                              dysgeusia </span></span>
<span><span class="co">#&gt;                                    "symptom.dysguesia" </span></span>
<span><span class="co">#&gt;                                                  fever </span></span>
<span><span class="co">#&gt;                                        "symptom.fever" </span></span>
<span><span class="co">#&gt;                                            hypothermia </span></span>
<span><span class="co">#&gt;                                  "symptom.hypothermia" </span></span>
<span><span class="co">#&gt;                                                 chills </span></span>
<span><span class="co">#&gt;                                       "symptom.chills" </span></span>
<span><span class="co">#&gt;                                               headache </span></span>
<span><span class="co">#&gt;                                     "symptom.headache" </span></span>
<span><span class="co">#&gt;                                                malaise </span></span>
<span><span class="co">#&gt;                                      "symptom.malaise" </span></span>
<span><span class="co">#&gt;                                                 wheeze </span></span>
<span><span class="co">#&gt;                                       "symptom.wheeze" </span></span>
<span><span class="co">#&gt;                                                myalgia </span></span>
<span><span class="co">#&gt;                                      "symptom.myalgia" </span></span>
<span><span class="co">#&gt;                                        worse_confusion </span></span>
<span><span class="co">#&gt;                          "symptom.worsening_confusion" </span></span>
<span><span class="co">#&gt;                                            general_det </span></span>
<span><span class="co">#&gt;                        "symptom.general_deterioration" </span></span>
<span><span class="co">#&gt;                                        ox_on_admission </span></span>
<span><span class="co">#&gt;                 "symptom.oxygen_required_on_admission" </span></span>
<span><span class="co">#&gt;                                       resp_disease___1 </span></span>
<span><span class="co">#&gt;                                  "comorbid.no_resp_dx" </span></span>
<span><span class="co">#&gt;                                       resp_disease___2 </span></span>
<span><span class="co">#&gt;                                        "comorbid.copd" </span></span>
<span><span class="co">#&gt;                                       resp_disease___3 </span></span>
<span><span class="co">#&gt;                                      "comorbid.asthma" </span></span>
<span><span class="co">#&gt;                                       resp_disease___4 </span></span>
<span><span class="co">#&gt;                                  "comorbid.resp_other" </span></span>
<span><span class="co">#&gt;                          other_respiratory_disease___1 </span></span>
<span><span class="co">#&gt;                              "comorbid.bronchiectasis" </span></span>
<span><span class="co">#&gt;                          other_respiratory_disease___2 </span></span>
<span><span class="co">#&gt;                        "comorbid.interstitial_lung_dx" </span></span>
<span><span class="co">#&gt;                          other_respiratory_disease___3 </span></span>
<span><span class="co">#&gt;                             "comorbid.cystic_fibrosis" </span></span>
<span><span class="co">#&gt;                          other_respiratory_disease___4 </span></span>
<span><span class="co">#&gt;                      "comorbid.pulmonary_hypertension" </span></span>
<span><span class="co">#&gt;                          other_respiratory_disease___5 </span></span>
<span><span class="co">#&gt;                          "comorbid.chronic_pleural_dx" </span></span>
<span><span class="co">#&gt;                          other_respiratory_disease___6 </span></span>
<span><span class="co">#&gt;                       "comorbid.other_chronic_resp_dx" </span></span>
<span><span class="co">#&gt;                                                chd___1 </span></span>
<span><span class="co">#&gt;                                 "comorbid.no_heart_dx" </span></span>
<span><span class="co">#&gt;                                                chd___2 </span></span>
<span><span class="co">#&gt;                                         "comorbid.ccf" </span></span>
<span><span class="co">#&gt;                                                chd___3 </span></span>
<span><span class="co">#&gt;                                         "comorbid.ihd" </span></span>
<span><span class="co">#&gt;                                                chd___4 </span></span>
<span><span class="co">#&gt;                                "comorbid.hypertension" </span></span>
<span><span class="co">#&gt;                                                chd___5 </span></span>
<span><span class="co">#&gt;                              "comorbid.other_heart_dx" </span></span>
<span><span class="co">#&gt;                                                     mi </span></span>
<span><span class="co">#&gt;                                 "comorbid.previous_mi" </span></span>
<span><span class="co">#&gt;                                          other_chd___1 </span></span>
<span><span class="co">#&gt;                         "comorbid.congenital_heart_dx" </span></span>
<span><span class="co">#&gt;                                          other_chd___2 </span></span>
<span><span class="co">#&gt;                                          "comorbid.af" </span></span>
<span><span class="co">#&gt;                                          other_chd___3 </span></span>
<span><span class="co">#&gt;                             "comorbid.other_arrythmia" </span></span>
<span><span class="co">#&gt;                                          other_chd___4 </span></span>
<span><span class="co">#&gt;                                   "comorbid.pacemaker" </span></span>
<span><span class="co">#&gt;                                          other_chd___5 </span></span>
<span><span class="co">#&gt;                           "comorbid.valvular_heart_dx" </span></span>
<span><span class="co">#&gt;                                          other_chd___6 </span></span>
<span><span class="co">#&gt;                        "comorbid.other_other_heart_dx" </span></span>
<span><span class="co">#&gt;                                               diabetes </span></span>
<span><span class="co">#&gt;                                    "comorbid.diabetes" </span></span>
<span><span class="co">#&gt;                                                dm_meds </span></span>
<span><span class="co">#&gt;                        "comorbid.diabetes_medications" </span></span>
<span><span class="co">#&gt;                               neurological_disease___1 </span></span>
<span><span class="co">#&gt;                                 "comorbid.neuro_other" </span></span>
<span><span class="co">#&gt;                               neurological_disease___2 </span></span>
<span><span class="co">#&gt;                                         "comorbid.cva" </span></span>
<span><span class="co">#&gt;                               neurological_disease___3 </span></span>
<span><span class="co">#&gt;                                         "comorbid.tia" </span></span>
<span><span class="co">#&gt;                               neurological_disease___4 </span></span>
<span><span class="co">#&gt;                                  "comorbid.hemiplegia" </span></span>
<span><span class="co">#&gt;                               neurological_disease___5 </span></span>
<span><span class="co">#&gt;                                  "comorbid.paraplegia" </span></span>
<span><span class="co">#&gt;                               neurological_disease___6 </span></span>
<span><span class="co">#&gt;                                 "comorbid.no_neuro_dx" </span></span>
<span><span class="co">#&gt;                                           dementia___1 </span></span>
<span><span class="co">#&gt;                                 "comorbid.no_dementia" </span></span>
<span><span class="co">#&gt;                                           dementia___2 </span></span>
<span><span class="co">#&gt;                                    "comorbid.dementia" </span></span>
<span><span class="co">#&gt;                                           dementia___3 </span></span>
<span><span class="co">#&gt;                        "comorbid.cognitive_impairment" </span></span>
<span><span class="co">#&gt;                                                 cancer </span></span>
<span><span class="co">#&gt;                                "comorbid.solid_cancer" </span></span>
<span><span class="co">#&gt;                                         haem_malig___1 </span></span>
<span><span class="co">#&gt;                    "comorbid.no_haemotological_cancer" </span></span>
<span><span class="co">#&gt;                                         haem_malig___2 </span></span>
<span><span class="co">#&gt;                                   "comorbid.leukaemia" </span></span>
<span><span class="co">#&gt;                                         haem_malig___3 </span></span>
<span><span class="co">#&gt;                                    "comorbid.lymphoma" </span></span>
<span><span class="co">#&gt;                                                    ckd </span></span>
<span><span class="co">#&gt;                                         "comorbid.ckd" </span></span>
<span><span class="co">#&gt;                                          liver_disease </span></span>
<span><span class="co">#&gt;                               "comorbid.liver_disease" </span></span>
<span><span class="co">#&gt;                                         gastric_ulcers </span></span>
<span><span class="co">#&gt;                              "comorbid.gastric_ulcers" </span></span>
<span><span class="co">#&gt;                                                    pvd </span></span>
<span><span class="co">#&gt;                              "comorbid.periph_vasc_dx" </span></span>
<span><span class="co">#&gt;                                                    ctd </span></span>
<span><span class="co">#&gt;                        "comorbid.connective_tissue_dx" </span></span>
<span><span class="co">#&gt;                                       immunodeficiency </span></span>
<span><span class="co">#&gt;                            "comorbid.immunodeficiency" </span></span>
<span><span class="co">#&gt;                                       other_pn_disease </span></span>
<span><span class="co">#&gt;                    "comorbid.other_pneumococcal_risks" </span></span>
<span><span class="co">#&gt;                                             transplant </span></span>
<span><span class="co">#&gt;                        "comorbid.transplant_recipient" </span></span>
<span><span class="co">#&gt;                                              pregnancy </span></span>
<span><span class="co">#&gt;                                   "comorbid.pregnancy" </span></span>
<span><span class="co">#&gt;                                                hiv___1 </span></span>
<span><span class="co">#&gt;                                      "comorbid.no_HIV" </span></span>
<span><span class="co">#&gt;                                                hiv___2 </span></span>
<span><span class="co">#&gt;                                         "comorbid.HIV" </span></span>
<span><span class="co">#&gt;                                                hiv___3 </span></span>
<span><span class="co">#&gt;                                        "comorbid.AIDS" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___1 </span></span>
<span><span class="co">#&gt;           "diagnosis.SOC_CAP_radiologically_confirmed" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___2 </span></span>
<span><span class="co">#&gt;               "diagnosis.SOC_CAP_clinically_confirmed" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___3 </span></span>
<span><span class="co">#&gt;                       "diagnosis.SOC_CAP_no_radiology" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___4 </span></span>
<span><span class="co">#&gt;                                   "diagnosis.SOC_LRTI" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___5 </span></span>
<span><span class="co">#&gt;                     "diagnosis.SOC_Empyema_or_abscess" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___6 </span></span>
<span><span class="co">#&gt;                      "diagnosis.SOC_exacerbation_COPD" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___7 </span></span>
<span><span class="co">#&gt;                  "diagnosis.SOC_exacerbation_non_COPD" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___8 </span></span>
<span><span class="co">#&gt;               "diagnosis.SOC_congestive_heart_failure" </span></span>
<span><span class="co">#&gt;                           final_soc_lrtd_diagnosis___9 </span></span>
<span><span class="co">#&gt;                 "diagnosis.SOC_non_infectious_process" </span></span>
<span><span class="co">#&gt;                          final_soc_lrtd_diagnosis___10 </span></span>
<span><span class="co">#&gt;                               "diagnosis.SOC_non_LRTI" </span></span>
<span><span class="co">#&gt;                                     covid_19_diagnosis </span></span>
<span><span class="co">#&gt;                         "diagnosis.covid_19_diagnosis" </span></span>
<span><span class="co">#&gt;                                                  ppv23 </span></span>
<span><span class="co">#&gt;                                "vaccination.pneumovax" </span></span>
<span><span class="co">#&gt;                                            flu_vaccine </span></span>
<span><span class="co">#&gt;                    "vaccination.influenza_vaccination" </span></span>
<span><span class="co">#&gt;                                              consented </span></span>
<span><span class="co">#&gt;                                      "admin.consented" </span></span>
<span><span class="co">#&gt;                                                    ppc </span></span>
<span><span class="co">#&gt;                                   "admin.pp_consented" </span></span>
<span><span class="co">#&gt;                                             withdrawal </span></span>
<span><span class="co">#&gt;                                     "admin.withdrawal"</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># unname(readable_label_mapping(data))</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="loading-and-normalising-the-central-database">loading and normalising the central database<a class="anchor" aria-label="anchor" href="#loading-and-normalising-the-central-database"></a>
</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rawData2</span> <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"avoncap-export"</span>,<span class="st">"central"</span>, merge<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-969416e3870a1ceaa091ca0c1e17ce42-ee0af1e3b9f5e833584829b1c5679232.rda</span></span>
<span><span class="co"># without merge: currently: INCONSISTENT COLUMN(S) IN FILES: sars_cov2_antigen</span></span>
<span><span class="co"># due to the fact it is mostly a numeric but some values "&gt;250"</span></span>
<span></span>
<span><span class="co"># devtools::load_all()</span></span>
<span><span class="va">data2</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-969416e3870a1ceaa091ca0c1e17ce42-ff72608b64773903d114b82c59072820.rda</span></span>
<span><span class="co">#&gt; Admission date is derived from study week and hence approximate.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: nhs_number, covidvax_date, covidvax_dose_2, covidvax_dose_3, covidvax_dose_4, covidvax_dose_5, covidvax_dose_6, covid19vax_brand_6, c19vax6_adm, flu_date, ppv23_date, previousinfection_date</span></span>
<span><span class="co">#&gt; caching item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-a13e9d283ace51b0b814e2f175ca0071.rda</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; CAUTION: some consented study identifiers are incorrectly formatted. These have been set to NA.</span></span>
<span><span class="co">#&gt; the input data set does not have a nhs_number column (or column set)</span></span>
<span><span class="co">#&gt; mapping .duplicate to admin.duplicate</span></span>
<span><span class="co">#&gt; mapping .enrollment_date to admin.enrollment_date</span></span>
<span><span class="co">#&gt; mapping .study_year to admin.study_year</span></span>
<span><span class="co">#&gt; mapping .file to admin.data_file</span></span>
<span><span class="co">#&gt; mapping .week_number to admin.week_number</span></span>
<span><span class="co">#&gt; mapping .c19_diagnosis to diagnosis.standard_of_care_COVID_diagnosis</span></span>
<span><span class="co">#&gt; mapping .clinical_radio_diagnosis to diagnosis.clinical_or_radiological_LRTI_or_pneumonia</span></span>
<span><span class="co">#&gt; mapping .c19_adm_swab to diagnosis.admission_swab</span></span>
<span><span class="co">#&gt; mapping .c19_test_type to diagnosis.test_type</span></span>
<span><span class="co">#&gt; mapping .qualifying_symptoms_signs to diagnosis.qualifying_symptoms_signs</span></span>
<span><span class="co">#&gt; mapping .cc_critieria to diagnosis.meets_case_control_criteria</span></span>
<span><span class="co">#&gt; mapping .cc_pos_date to diagnosis.first_COVID_positive_swab_date</span></span>
<span><span class="co">#&gt; mapping .gender to demog.gender</span></span>
<span><span class="co">#&gt; mapping .age_at_admission to demog.age</span></span>
<span><span class="co">#&gt; mapping .age_march to demog.age_in_march_2021</span></span>
<span><span class="co">#&gt; mapping .imd to demog.imd_decile</span></span>
<span><span class="co">#&gt; mapping .smoking to demog.smoker</span></span>
<span><span class="co">#&gt; mapping .ethnicity2 to demog.ethnicity</span></span>
<span><span class="co">#&gt; mapping .care_home to demog.care_home_resident</span></span>
<span><span class="co">#&gt; mapping .drugs___1 to demog.no_drug_abuse</span></span>
<span><span class="co">#&gt; mapping .drugs___2 to demog.alcohol_abuse</span></span>
<span><span class="co">#&gt; mapping .drugs___3 to demog.ivdu_abuse</span></span>
<span><span class="co">#&gt; mapping .drugs___4 to demog.marijuana_abuse</span></span>
<span><span class="co">#&gt; mapping .drugs___5 to demog.other_inhaled_drug_abuse</span></span>
<span><span class="co">#&gt; mapping .vaping to demog.vaping</span></span>
<span><span class="co">#&gt; mapping .alc_units to demog.units_of_alcohol</span></span>
<span><span class="co">#&gt; mapping .contraindication to vaccination.covid_vaccine_contraindicated</span></span>
<span><span class="co">#&gt; mapping .covid19_vax to vaccination.covid_vaccination</span></span>
<span><span class="co">#&gt; the input data set does not have a covidvax_date column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a covidvax_dose_2 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a covidvax_dose_3 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a covidvax_dose_4 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a covidvax_dose_5 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a covidvax_dose_6 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .brand_of_covid19_vaccinati to vaccination.first_dose_brand</span></span>
<span><span class="co">#&gt; mapping .covid19vax_brand_2 to vaccination.second_dose_brand</span></span>
<span><span class="co">#&gt; mapping .covid19vax_brand_3 to vaccination.third_dose_brand</span></span>
<span><span class="co">#&gt; mapping .covid19vax_brand_4 to vaccination.fourth_dose_brand</span></span>
<span><span class="co">#&gt; mapping .covid19vax_brand_5 to vaccination.fifth_dose_brand</span></span>
<span><span class="co">#&gt; the input data set does not have a covid19vax_brand_6 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .c19vaxd1_adm to admission.time_since_first_vaccine_dose</span></span>
<span><span class="co">#&gt; mapping .c19vaxd2_adm to admission.time_since_second_vaccine_dose</span></span>
<span><span class="co">#&gt; mapping .c19vaxd3_adm to admission.time_since_third_vaccine_dose</span></span>
<span><span class="co">#&gt; mapping .c19vaxd4_adm to admission.time_since_fourth_vaccine_dose</span></span>
<span><span class="co">#&gt; mapping .c19vax5_adm to admission.time_since_fifth_vaccine_dose</span></span>
<span><span class="co">#&gt; the input data set does not have a c19vax6_adm column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a flu_date column (or column set)</span></span>
<span><span class="co">#&gt; mapping .fluvax_adm_d1 to admission.time_since_last_flu_vaccine_dose</span></span>
<span><span class="co">#&gt; the input data set does not have a ppv23_date column (or column set)</span></span>
<span><span class="co">#&gt; mapping .ppv23vax_adm_d to admission.time_since_last_pneumococcal_vaccine_dose</span></span>
<span><span class="co">#&gt; mapping .c19_variant to genomic.variant</span></span>
<span><span class="co">#&gt; mapping .year to admission.year</span></span>
<span><span class="co">#&gt; mapping .study_week to admission.study_week</span></span>
<span><span class="co">#&gt; mapping .admission_date to admission.date</span></span>
<span><span class="co">#&gt; mapping .hospital to admin.hospital</span></span>
<span><span class="co">#&gt; mapping .ics to admission.on_inhaled_corticosteroids</span></span>
<span><span class="co">#&gt; mapping .immsup to admission.on_immunosuppression</span></span>
<span><span class="co">#&gt; mapping .psi_class to admission.pneumonia_severity_index_class</span></span>
<span><span class="co">#&gt; mapping .crb_test_mai to admission.curb_65_severity_score</span></span>
<span><span class="co">#&gt; mapping .news_2_total to admission.news2_score</span></span>
<span><span class="co">#&gt; mapping .pulse_ox to admission.oximetry</span></span>
<span><span class="co">#&gt; mapping .rr to admission.respiratory_rate</span></span>
<span><span class="co">#&gt; mapping .fio2 to admission.max_oxygen</span></span>
<span><span class="co">#&gt; mapping .systolic_bp to admission.systolic_bp</span></span>
<span><span class="co">#&gt; mapping .diastolic_bp to admission.diastolic_bp</span></span>
<span><span class="co">#&gt; mapping .hr to admission.heart_rate</span></span>
<span><span class="co">#&gt; mapping .temperature to admission.temperature</span></span>
<span><span class="co">#&gt; mapping .symptom_days_preadmit to admission.duration_symptoms</span></span>
<span><span class="co">#&gt; mapping .previous_infection to admission.previous_covid_infection</span></span>
<span><span class="co">#&gt; the input data set does not have a previousinfection_date column (or column set)</span></span>
<span><span class="co">#&gt; mapping .c19d_preadm to admission.time_since_covid_diagnosis</span></span>
<span><span class="co">#&gt; mapping .rockwood to admission.rockwood_score</span></span>
<span><span class="co">#&gt; mapping .cci_total_score to admission.charlson_comorbidity_index</span></span>
<span><span class="co">#&gt; mapping .height to admission.height</span></span>
<span><span class="co">#&gt; mapping .weight to admission.weight</span></span>
<span><span class="co">#&gt; mapping .bmi to admission.BMI</span></span>
<span><span class="co">#&gt; mapping .first_radio___1 to admission.cxr_normal</span></span>
<span><span class="co">#&gt; mapping .first_radio___2 to admission.cxr_pneumonia</span></span>
<span><span class="co">#&gt; mapping .first_radio___3 to admission.cxr_heart_failure</span></span>
<span><span class="co">#&gt; mapping .first_radio___4 to admission.cxr_pleural_effusion</span></span>
<span><span class="co">#&gt; mapping .first_radio___5 to admission.cxr_covid_changes</span></span>
<span><span class="co">#&gt; mapping .first_radio___6 to admission.cxr_other</span></span>
<span><span class="co">#&gt; mapping .c19_peep to day_7.max_peep</span></span>
<span><span class="co">#&gt; mapping .c19_hospadm to day_7.length_of_stay</span></span>
<span><span class="co">#&gt; mapping .c17_high to day_7.max_care_level</span></span>
<span><span class="co">#&gt; mapping .c19icuon to day_7.still_on_icu</span></span>
<span><span class="co">#&gt; mapping .c19_icudays to day_7.icu_length_of_stay</span></span>
<span><span class="co">#&gt; mapping .c19_vent to day_7.max_ventilation_level</span></span>
<span><span class="co">#&gt; mapping .c19_ox to day_7.max_o2_level</span></span>
<span><span class="co">#&gt; mapping .c19_ionotropes to day_7.ionotropes_needed</span></span>
<span><span class="co">#&gt; mapping .c19_complication___1 to day_7.PE</span></span>
<span><span class="co">#&gt; mapping .c19_complication___2 to day_7.DVT</span></span>
<span><span class="co">#&gt; mapping .c19_complication___3 to day_7.ARF</span></span>
<span><span class="co">#&gt; mapping .c19_complication___4 to day_7.NSTEMI</span></span>
<span><span class="co">#&gt; mapping .c19_complication___5 to day_7.STEMI</span></span>
<span><span class="co">#&gt; mapping .c19_complication___6 to day_7.cardiac_failure</span></span>
<span><span class="co">#&gt; mapping .c19_complication___7 to day_7.new_AF</span></span>
<span><span class="co">#&gt; mapping .c19_complication___8 to day_7.new_other_arrythmia</span></span>
<span><span class="co">#&gt; mapping .c19_complication___9 to day_7.inpatient_fall</span></span>
<span><span class="co">#&gt; mapping .c19_complication___10 to day_7.other_complication</span></span>
<span><span class="co">#&gt; mapping .c19_complication___11 to day_7.no_complication</span></span>
<span><span class="co">#&gt; mapping .c19_death7d to day_7.death</span></span>
<span><span class="co">#&gt; mapping .c19_meds___1 to treatment.dexamethasone</span></span>
<span><span class="co">#&gt; mapping .c19_meds___2 to treatment.remdesevir</span></span>
<span><span class="co">#&gt; mapping .c19_meds___3 to treatment.tocilizumab</span></span>
<span><span class="co">#&gt; mapping .c19_meds___4 to treatment.sarilumab</span></span>
<span><span class="co">#&gt; mapping .c19_meds___5 to treatment.in_drug_trial</span></span>
<span><span class="co">#&gt; mapping .c19_meds___6 to treatment.no_drug_treatment</span></span>
<span><span class="co">#&gt; mapping .c19_meds___7 to treatment.sotrovimab</span></span>
<span><span class="co">#&gt; mapping .hospital_length_of_stay to outcome.length_of_stay</span></span>
<span><span class="co">#&gt; mapping .survival_days to outcome.survival_duration</span></span>
<span><span class="co">#&gt; mapping .ip_death to outcome.inpatient_death</span></span>
<span><span class="co">#&gt; mapping .days_in_icu to outcome.icu_duration</span></span>
<span><span class="co">#&gt; mapping .did_the_patient_have_respi to outcome.respiratory_support_needed</span></span>
<span><span class="co">#&gt; mapping .number_of_days_of_ventilat to outcome.ventilator_duration</span></span>
<span><span class="co">#&gt; mapping .ett_days to outcome.endotracheal_tube_duration</span></span>
<span><span class="co">#&gt; mapping .renal_replacement_therapy to outcome.renal_support_duration</span></span>
<span><span class="co">#&gt; mapping .complications___1 to outcome.acute_renal_failure</span></span>
<span><span class="co">#&gt; mapping .complications___2 to outcome.liver_dysfunction</span></span>
<span><span class="co">#&gt; mapping .complications___3 to outcome.hospital_acquired_infection</span></span>
<span><span class="co">#&gt; mapping .complications___4 to outcome.acute_respiratory_distress_syndrome</span></span>
<span><span class="co">#&gt; mapping .complications___5 to outcome.NSTEMI</span></span>
<span><span class="co">#&gt; mapping .complications___6 to outcome.STEMI</span></span>
<span><span class="co">#&gt; mapping .complications___7 to outcome.new_AF</span></span>
<span><span class="co">#&gt; mapping .complications___8 to outcome.new_other_arrhthmia</span></span>
<span><span class="co">#&gt; mapping .complications___9 to outcome.stroke</span></span>
<span><span class="co">#&gt; mapping .complications___10 to outcome.DVT</span></span>
<span><span class="co">#&gt; mapping .complications___11 to outcome.PE</span></span>
<span><span class="co">#&gt; mapping .complications___12 to outcome.heart_failure</span></span>
<span><span class="co">#&gt; mapping .complications___13 to outcome.fall_in_hospital</span></span>
<span><span class="co">#&gt; mapping .complications___14 to outcome.reduced_mobility</span></span>
<span><span class="co">#&gt; mapping .complications___15 to outcome.increasing_care_requirement</span></span>
<span><span class="co">#&gt; mapping .complications___16 to outcome.no_complications</span></span>
<span><span class="co">#&gt; mapping .ventilatory_support to outcome.highest_level_ventilatory_support</span></span>
<span><span class="co">#&gt; mapping .did_the_patient_receive_ec to outcome.recieved_ecmo</span></span>
<span><span class="co">#&gt; mapping .inotropic_support_required to outcome.recieved_ionotropes</span></span>
<span><span class="co">#&gt; mapping .lrtd_30d_outcome to outcome.functional_status</span></span>
<span><span class="co">#&gt; mapping .fever2 to symptom.abnormal_temperature</span></span>
<span><span class="co">#&gt; mapping .pleurtic_cp to symptom.pleuritic_chest_pain</span></span>
<span><span class="co">#&gt; mapping .cough2 to symptom.cough</span></span>
<span><span class="co">#&gt; mapping .sput_prod to symptom.productive_sputum</span></span>
<span><span class="co">#&gt; mapping .dyspnoea to symptom.dyspnoea</span></span>
<span><span class="co">#&gt; mapping .tachypnoea2 to symptom.tachypnoea</span></span>
<span><span class="co">#&gt; mapping .anosmia to symptom.anosmia</span></span>
<span><span class="co">#&gt; mapping .ageusia to symptom.ageusia</span></span>
<span><span class="co">#&gt; mapping .dysgeusia to symptom.dysguesia</span></span>
<span><span class="co">#&gt; mapping .fever to symptom.fever</span></span>
<span><span class="co">#&gt; mapping .hypothermia to symptom.hypothermia</span></span>
<span><span class="co">#&gt; mapping .chills to symptom.chills</span></span>
<span><span class="co">#&gt; mapping .headache to symptom.headache</span></span>
<span><span class="co">#&gt; mapping .malaise to symptom.malaise</span></span>
<span><span class="co">#&gt; mapping .wheeze to symptom.wheeze</span></span>
<span><span class="co">#&gt; mapping .myalgia to symptom.myalgia</span></span>
<span><span class="co">#&gt; mapping .worse_confusion to symptom.worsening_confusion</span></span>
<span><span class="co">#&gt; mapping .general_det to symptom.general_deterioration</span></span>
<span><span class="co">#&gt; mapping .ox_on_admission to symptom.oxygen_required_on_admission</span></span>
<span><span class="co">#&gt; mapping .resp_disease___1 to comorbid.no_resp_dx</span></span>
<span><span class="co">#&gt; mapping .resp_disease___2 to comorbid.copd</span></span>
<span><span class="co">#&gt; mapping .resp_disease___3 to comorbid.asthma</span></span>
<span><span class="co">#&gt; mapping .resp_disease___4 to comorbid.resp_other</span></span>
<span><span class="co">#&gt; mapping .other_respiratory_disease___1 to comorbid.bronchiectasis</span></span>
<span><span class="co">#&gt; mapping .other_respiratory_disease___2 to comorbid.interstitial_lung_dx</span></span>
<span><span class="co">#&gt; mapping .other_respiratory_disease___3 to comorbid.cystic_fibrosis</span></span>
<span><span class="co">#&gt; mapping .other_respiratory_disease___4 to comorbid.pulmonary_hypertension</span></span>
<span><span class="co">#&gt; mapping .other_respiratory_disease___5 to comorbid.chronic_pleural_dx</span></span>
<span><span class="co">#&gt; mapping .other_respiratory_disease___6 to comorbid.other_chronic_resp_dx</span></span>
<span><span class="co">#&gt; mapping .chd___1 to comorbid.no_heart_dx</span></span>
<span><span class="co">#&gt; mapping .chd___2 to comorbid.ccf</span></span>
<span><span class="co">#&gt; mapping .chd___3 to comorbid.ihd</span></span>
<span><span class="co">#&gt; mapping .chd___4 to comorbid.hypertension</span></span>
<span><span class="co">#&gt; mapping .chd___5 to comorbid.other_heart_dx</span></span>
<span><span class="co">#&gt; mapping .mi to comorbid.previous_mi</span></span>
<span><span class="co">#&gt; mapping .other_chd___1 to comorbid.congenital_heart_dx</span></span>
<span><span class="co">#&gt; mapping .other_chd___2 to comorbid.af</span></span>
<span><span class="co">#&gt; mapping .other_chd___3 to comorbid.other_arrythmia</span></span>
<span><span class="co">#&gt; mapping .other_chd___4 to comorbid.pacemaker</span></span>
<span><span class="co">#&gt; mapping .other_chd___5 to comorbid.valvular_heart_dx</span></span>
<span><span class="co">#&gt; mapping .other_chd___6 to comorbid.other_other_heart_dx</span></span>
<span><span class="co">#&gt; mapping .diabetes to comorbid.diabetes</span></span>
<span><span class="co">#&gt; mapping .dm_meds to comorbid.diabetes_medications</span></span>
<span><span class="co">#&gt; mapping .neurological_disease___1 to comorbid.neuro_other</span></span>
<span><span class="co">#&gt; mapping .neurological_disease___2 to comorbid.cva</span></span>
<span><span class="co">#&gt; mapping .neurological_disease___3 to comorbid.tia</span></span>
<span><span class="co">#&gt; mapping .neurological_disease___4 to comorbid.hemiplegia</span></span>
<span><span class="co">#&gt; mapping .neurological_disease___5 to comorbid.paraplegia</span></span>
<span><span class="co">#&gt; mapping .neurological_disease___6 to comorbid.no_neuro_dx</span></span>
<span><span class="co">#&gt; mapping .dementia___1 to comorbid.no_dementia</span></span>
<span><span class="co">#&gt; mapping .dementia___2 to comorbid.dementia</span></span>
<span><span class="co">#&gt; mapping .dementia___3 to comorbid.cognitive_impairment</span></span>
<span><span class="co">#&gt; mapping .cancer to comorbid.solid_cancer</span></span>
<span><span class="co">#&gt; mapping .haem_malig___1 to comorbid.no_haemotological_cancer</span></span>
<span><span class="co">#&gt; mapping .haem_malig___2 to comorbid.leukaemia</span></span>
<span><span class="co">#&gt; mapping .haem_malig___3 to comorbid.lymphoma</span></span>
<span><span class="co">#&gt; mapping .ckd to comorbid.ckd</span></span>
<span><span class="co">#&gt; mapping .liver_disease to comorbid.liver_disease</span></span>
<span><span class="co">#&gt; mapping .gastric_ulcers to comorbid.gastric_ulcers</span></span>
<span><span class="co">#&gt; mapping .pvd to comorbid.periph_vasc_dx</span></span>
<span><span class="co">#&gt; mapping .ctd to comorbid.connective_tissue_dx</span></span>
<span><span class="co">#&gt; mapping .immunodeficiency to comorbid.immunodeficiency</span></span>
<span><span class="co">#&gt; mapping .other_pn_disease to comorbid.other_pneumococcal_risks</span></span>
<span><span class="co">#&gt; mapping .transplant to comorbid.transplant_recipient</span></span>
<span><span class="co">#&gt; mapping .pregnancy to comorbid.pregnancy</span></span>
<span><span class="co">#&gt; mapping .hiv___1 to comorbid.no_HIV</span></span>
<span><span class="co">#&gt; mapping .hiv___2 to comorbid.HIV</span></span>
<span><span class="co">#&gt; mapping .hiv___3 to comorbid.AIDS</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___1 to diagnosis.SOC_CAP_radiologically_confirmed</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___2 to diagnosis.SOC_CAP_clinically_confirmed</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___3 to diagnosis.SOC_CAP_no_radiology</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___4 to diagnosis.SOC_LRTI</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___5 to diagnosis.SOC_Empyema_or_abscess</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___6 to diagnosis.SOC_exacerbation_COPD</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___7 to diagnosis.SOC_exacerbation_non_COPD</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___8 to diagnosis.SOC_congestive_heart_failure</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___9 to diagnosis.SOC_non_infectious_process</span></span>
<span><span class="co">#&gt; mapping .final_soc_lrtd_diagnosis___10 to diagnosis.SOC_non_LRTI</span></span>
<span><span class="co">#&gt; mapping .covid_19_diagnosis to diagnosis.covid_19_diagnosis</span></span>
<span><span class="co">#&gt; mapping .ppv23 to vaccination.pneumovax</span></span>
<span><span class="co">#&gt; mapping .flu_vaccine to vaccination.influenza_vaccination</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; Mapped 226 columns</span></span>
<span><span class="co">#&gt; Did not map 3131 columns</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"micro"</span><span class="op">)</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/cached-c1ad7845752dc913f18c1c9b87222061-1adb417fed815cda20c5cd858f153cd4.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_1</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-f2f5f912adbf0224849f6c514e5e338e.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_2</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-3749ea30cfec588966d0fbf60d24d265.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_3, pn_st_3</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-b44feaf5b55279c8d9a6493d39ebf7f3.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_4, pn_st_4</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-1c32ac6ece7f7fa3121149c969e5d77c.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_5, pn_result_5, pn_st_5, micro_lab_5</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-475f059903beebd684b5e5deab81f64b.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_6, pn_st_6, micro_lab_6</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-e68d9600dff6c902383fee4c57e51642.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_7, pn_result_7, pn_st_7, micro_lab_7</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-ec66f3e2989a83d293cbd6fa1bd71017.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_8, pn_result_8, pn_st_8</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-e56d69c9b50fcb5ea7510b9cae16380e.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_9, pn_result_9, pn_st_9, micro_lab_9, pn_uat_result_9</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-9b0aeb71771ff136e376e4dedf7bec45.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_10, pn_result_10, pn_st_10, micro_lab_10</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-ef1d0785cacd88ca24029232043d6729.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_11, pn_result_11, pn_st_11, micro_lab_11, lg_uat_result_11</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-cb922e41d24a211b1cb60d01a81cd9be.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_12, pn_result_12, pn_st_12, micro_lab_12</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-be7394739af0916107ff37aa3a5b648c.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_13, pn_result_13, pn_st_13, micro_lab_13</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-c82349140f3311167a703b5f50f03562.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_14, pn_result_14, pn_st_14, micro_lab_14, pn_uat_result_14</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-e744af368a52f7e846f333bb3dc8455f.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_15, pn_result_15, pn_st_15, micro_lab_15, lg_uat_result_15</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-f3bde1d64ce60d5e2688368c62d7c862.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_16, pn_result_16, pn_st_16, micro_lab_16, pn_uat_result_16, lg_uat_result_16</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-5b3118db2e08aa58f950034f667b3ded.rda</span></span>
<span></span>
<span><span class="va">tmp</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">micro.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pathogen</span>,<span class="va">detected</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                   detected</span></span>
<span><span class="co">#&gt; pathogen                              no   yes  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Aspergillus                      18380    16     0</span></span>
<span><span class="co">#&gt;   Streptococcus Agalactiae         18387     9     0</span></span>
<span><span class="co">#&gt;   Candida                          17911   485     0</span></span>
<span><span class="co">#&gt;   Achromobacter Xylosoxidans       18386    10     0</span></span>
<span><span class="co">#&gt;   Bacteroides                      18393     3     0</span></span>
<span><span class="co">#&gt;   Bacteroides fragilis             18390     6     0</span></span>
<span><span class="co">#&gt;   Bacteroides ovatus               18396     0     0</span></span>
<span><span class="co">#&gt;   Bacteroides uniformis            18396     0     0</span></span>
<span><span class="co">#&gt;   Burholderia cepacia              18393     3     0</span></span>
<span><span class="co">#&gt;   Citrobacter freundii complex     18378    18     0</span></span>
<span><span class="co">#&gt;   Citrobacter koseri               18363    33     0</span></span>
<span><span class="co">#&gt;   Clostridium perfringens          18388     8     0</span></span>
<span><span class="co">#&gt;   Eggerthella lenta                18396     0     0</span></span>
<span><span class="co">#&gt;   Enterobacter aerogenes           18391     5     0</span></span>
<span><span class="co">#&gt;   Enterobacter cloacae             18314    82     0</span></span>
<span><span class="co">#&gt;   Enterococcus faecalis            18341    55     0</span></span>
<span><span class="co">#&gt;   Enterococcus faecium             18369    27     0</span></span>
<span><span class="co">#&gt;   Escherichia coli                 18054   342     0</span></span>
<span><span class="co">#&gt;   Haemophilus influenzae           18242   154     0</span></span>
<span><span class="co">#&gt;   Haemophilus parainfluenzae       18394     2     0</span></span>
<span><span class="co">#&gt;   Klebsiella oxytoca               18345    51     0</span></span>
<span><span class="co">#&gt;   Klebsiella pneumoniae            18258   138     0</span></span>
<span><span class="co">#&gt;   Morganella morganii              18392     4     0</span></span>
<span><span class="co">#&gt;   Peptostreptococcus anaerobius    18396     0     0</span></span>
<span><span class="co">#&gt;   Proteus mirabilis                18354    42     0</span></span>
<span><span class="co">#&gt;   Pseudomonas aeruginosa           18126   270     0</span></span>
<span><span class="co">#&gt;   Serratia marcescens              18365    31     0</span></span>
<span><span class="co">#&gt;   Staphylcoccus aureus             18102   294     0</span></span>
<span><span class="co">#&gt;   Streptococcus anginosus          18390     6     0</span></span>
<span><span class="co">#&gt;   Streptococcus pneumoniae         18317    79     0</span></span>
<span><span class="co">#&gt;   Streptococcus salivarius group   18391     5     0</span></span>
<span><span class="co">#&gt;   Stenotrophomonas maltophilia     18355    41     0</span></span>
<span><span class="co">#&gt;   Acinetobacter                    18385    11     0</span></span>
<span><span class="co">#&gt;   Aspergillus niger                18395     1     0</span></span>
<span><span class="co">#&gt;   Bacillus                         18391     5     0</span></span>
<span><span class="co">#&gt;   Candida albicans                 18371    25     0</span></span>
<span><span class="co">#&gt;   Candida glabrata                 18391     5     0</span></span>
<span><span class="co">#&gt;   Candida tropicalis               18393     3     0</span></span>
<span><span class="co">#&gt;   Coagulase negative staphylcoccus 18389     7     0</span></span>
<span><span class="co">#&gt;   Corynebacterium                  18378    18     0</span></span>
<span><span class="co">#&gt;   Enterococcus                     18391     5     0</span></span>
<span><span class="co">#&gt;   Gram positive coccus             18396     0     0</span></span>
<span><span class="co">#&gt;   Klebsiella                       18376    20     0</span></span>
<span><span class="co">#&gt;   Legionella pneumoniae            18396     0     0</span></span>
<span><span class="co">#&gt;   MRSA                             18390     6     0</span></span>
<span><span class="co">#&gt;   MSSA                             18395     1     0</span></span>
<span><span class="co">#&gt;   Moraxella catarrhalis            18367    29     0</span></span>
<span><span class="co">#&gt;   Mycobacterium tuberculosis       18391     5     0</span></span>
<span><span class="co">#&gt;   Pneumocytis jirovecii            18395     1     0</span></span>
<span><span class="co">#&gt;   Pseudomonas                      18345    51     0</span></span>
<span><span class="co">#&gt;   Pseudomonas fluorescens          18395     1     0</span></span>
<span><span class="co">#&gt;   Staphylcoccus                    18379    17     0</span></span>
<span><span class="co">#&gt;   Staphylococcus capitis           18367    29     0</span></span>
<span><span class="co">#&gt;   Staphylococcus epidermidis       18192   204     0</span></span>
<span><span class="co">#&gt;   Staphylococcus hominis           18284   112     0</span></span>
<span><span class="co">#&gt;   Streptococcus                    18379    17     0</span></span>
<span><span class="co">#&gt;   Streptococcus beta-hemolytic     18353    43     0</span></span>
<span><span class="co">#&gt;   Streptococcus pyogenes           18388     8     0</span></span>
<span><span class="co">#&gt;   Streptococcus viridans           18396     0     0</span></span>
<span><span class="co">#&gt;   Yeast                            18367    29     0</span></span>
<span><span class="co">#&gt;   Other                            17965   431     0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                 0     0     0</span></span>
<span><span class="va">tmp</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">micro.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">micro.test_type</span>, <span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">detected</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">group_by</span><span class="op">(</span><span class="va">pathogen</span>, <span class="va">micro.test_type</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 188 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   pathogen, micro.test_type [188]</span></span></span>
<span><span class="co">#&gt;    pathogen                   micro.test_type      n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Candida                    Sputum             276</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Escherichia coli           Blood culture      240</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Other                      Blood culture      232</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Staphylococcus epidermidis Blood culture      196</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Pseudomonas aeruginosa     Sputum             156</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Staphylcoccus aureus       Blood culture      126</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Other                      Sputum             125</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Candida                    Respiratory swab   121</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Staphylococcus hominis     Blood culture      111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Haemophilus influenzae     Sputum             107</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 178 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp2</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"virol"</span><span class="op">)</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/cached-f199b1b2b1ef608bf9c54df01fbf0e48-1adb417fed815cda20c5cd858f153cd4.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_1</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-25339cbde6f27c8861d0c734929fc95d.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_2</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-e21a0d65faabdb65a8d71808a02ccbed.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_3</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-7c9c44a2be8cc08550d48e5799f7ba86.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_4</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-8df04638efee430ec144d139fd90652f.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_5</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-6e5c3773a2ed287828f4a18b9cb9a37d.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_6</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-7534e6ab03ef19f16c5d745bad343090.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_7</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-75967b835b0d8cbca67f3f6ced8bbfa7.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_8</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-53461404823bf2ad4673003c53d6f819.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_9</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-3684aa3296a201077fda04a5c301b29c.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_10</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-cdb13ad2bfaabf7aabf4192c40193151.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_11</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-887417b5dc56b0142b9325ad1e023ad2.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_12</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-5790ca88580e0d913cf8198c784d3819.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_13, virol_patient_lab_13</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-96faa8c169af67313745ff23823aba6f.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_14, virol_patient_lab_14</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-f7d428ed58caca8d93bb728ced0b39cf.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_15</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-1820f94bd8852962db2df071ca4282d5.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_16, specimen_type_16, virol_patient_lab_16</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-06dfe3788570d3c0d90ee1f15563b591.rda</span></span>
<span></span>
<span><span class="va">tmp2</span>  <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">virol.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pathogen</span>,<span class="va">detected</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                          detected</span></span>
<span><span class="co">#&gt; pathogen                                     no   yes  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Influenza A                             51558    48     0</span></span>
<span><span class="co">#&gt;   Influenza B                             51605     1     0</span></span>
<span><span class="co">#&gt;   RSV                                     51584    22     0</span></span>
<span><span class="co">#&gt;   Adenovirus                              51601     5     0</span></span>
<span><span class="co">#&gt;   Human Metapneumovirus                   51562    44     0</span></span>
<span><span class="co">#&gt;   Human Rhinovirus/Enterovirus            51495   111     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 1                    51605     1     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 2                    51601     5     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 3                    51572    34     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 4                    51601     5     0</span></span>
<span><span class="co">#&gt;   Covid-19                                40785 10821     0</span></span>
<span><span class="co">#&gt;   Other                                   51600     6     0</span></span>
<span><span class="co">#&gt;   Coronavirus 229E                        51605     1     0</span></span>
<span><span class="co">#&gt;   Coronavirus HKU1                        51605     1     0</span></span>
<span><span class="co">#&gt;   Coronavirus NL63                        51606     0     0</span></span>
<span><span class="co">#&gt;   Coronavirus OC43                        51606     0     0</span></span>
<span><span class="co">#&gt;   Middle East Respiratory Syndrome (MERS) 51606     0     0</span></span>
<span><span class="co">#&gt;   Bordetella parapertussis (IS1001)       51604     2     0</span></span>
<span><span class="co">#&gt;   Bordetella pertussis (ptxP)             51606     0     0</span></span>
<span><span class="co">#&gt;   Chlamydia pneumoniae                    51604     2     0</span></span>
<span><span class="co">#&gt;   Mycoplasma pneumoniae                   51606     0     0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                        0     0     0</span></span>
<span><span class="va">tmp2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">virol.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">virol.test_type</span>, <span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">detected</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># with(table(pathogen, virol.test_type,  useNA = "always")) %&gt;% </span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">pathogen</span>, <span class="va">virol.test_type</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 38 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   pathogen, virol.test_type [38]</span></span></span>
<span><span class="co">#&gt;    pathogen                     virol.test_type               n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Covid-19                     PCR - COVID only           <span style="text-decoration: underline;">7</span>956</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Covid-19                     POCT Test (Abbott)         <span style="text-decoration: underline;">2</span>429</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Covid-19                     Lateral Flow - COVID only   328</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Human Rhinovirus/Enterovirus PCR Respiratory (Biofire)    76</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Covid-19                     Viral Culture                69</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Covid-19                     PCR Respiratory (Biofire)    36</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Human Metapneumovirus        PCR Respiratory (Biofire)    33</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Influenza A                  PCR Respiratory (Biofire)    25</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Influenza A                  Lateral Flow - COVID only    23</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Parainfluenza Type 3         PCR Respiratory (Biofire)    23</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 28 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp3</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"radio"</span><span class="op">)</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/cached-0225c14e684bba1fac2c9436b19704e4-1adb417fed815cda20c5cd858f153cd4.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_1</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-6eafe2b9f21a85d9baa41826bd2f72a7.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_2</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-e62c2933decfcdcd10e6db58a3847f73.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_3</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-6d89b4aee6ceea4a9b556fc4fc78b005.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_4</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-4e288dcfb76eb787a0fc48b59ee9e926.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_5</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-015736415f52d4143c654390bd2ccfe8.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_6</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-9c39c8d3f298f204c559b70f1902d683.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_7</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-0594d07f0bf2210ee737bea8b6869b48.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_8</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-a441d35e2dbd9879de735a67b9bdc15e.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_9</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-37964953e82fbf653ca342e62fc56c03.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_10</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-52be837aad0fee6082c73d6aa0733ca7.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_11</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-eb8ccbf5e298a555b22cbce0528376a2.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_12</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-ff09e41c5175162cb2fe63bf57a91937.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_13</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-53b8dd0600488e8272b3d33772e85125.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_14</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-e1bbb89bf277388cb72fe83bdad0f9d7.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_15</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-51afd8d956920c24c1d79ae63b61f0a3.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_16</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-fda9ef6e0bd2c987e1df2bb45edfe809.rda</span></span>
<span></span>
<span><span class="co"># old format tmp3  %&gt;% filter(radio.test_performed=="yes") %&gt;% with(table(radio.test_type, radio.lung_malignancy))</span></span>
<span><span class="va">tmp3</span>  <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">radio.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">radio.alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">radio.alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">finding</span>,<span class="va">present</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                   present</span></span>
<span><span class="co">#&gt; finding                               no   yes  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Normal                           22346 15840     4</span></span>
<span><span class="co">#&gt;   Consistent with pneumonia        26232 11954     4</span></span>
<span><span class="co">#&gt;   Consistent with heart failure    34877  3309     4</span></span>
<span><span class="co">#&gt;   Consistent with pleural effusion 30943  7243     4</span></span>
<span><span class="co">#&gt;   Consistent with COVID-19         32271  5915     4</span></span>
<span><span class="co">#&gt;   Other abnormal finding           35620  2566     4</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                 0     0     0</span></span>
<span><span class="va">tmp3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">radio.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">radio.test_type</span>, <span class="va">radio.non_alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">radio.non_alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">present</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">finding</span>, <span class="va">radio.test_type</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                        radio.test_type</span></span>
<span><span class="co">#&gt; finding                                 CXR CT scan (CT thorax, CTPA, HRCT)</span></span>
<span><span class="co">#&gt;   Pulmonary embolus                     122                             588</span></span>
<span><span class="co">#&gt;   Pneumothorax and/or pneumomediastinum 693                             127</span></span>
<span><span class="co">#&gt;   Cavity including abscesses             22                              18</span></span>
<span><span class="co">#&gt;   Aspergillioma                           0                               0</span></span>
<span><span class="co">#&gt;   Lung malignancy                       270                             245</span></span>
<span><span class="co">#&gt;   Lung nodules                          227                             282</span></span>
<span><span class="co">#&gt;   Tuberculosis (old or new)               6                               1</span></span>
<span><span class="co">#&gt;   Empyema                                86                              71</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                    0                               0</span></span>
<span><span class="co">#&gt;                                        radio.test_type</span></span>
<span><span class="co">#&gt; finding                                 US thorax MRI Other &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Pulmonary embolus                             2   0    12    1</span></span>
<span><span class="co">#&gt;   Pneumothorax and/or pneumomediastinum         1   0     0    0</span></span>
<span><span class="co">#&gt;   Cavity including abscesses                    1   0     0    0</span></span>
<span><span class="co">#&gt;   Aspergillioma                                 0   0     0    0</span></span>
<span><span class="co">#&gt;   Lung malignancy                               0   0     2    0</span></span>
<span><span class="co">#&gt;   Lung nodules                                  2   0     0    0</span></span>
<span><span class="co">#&gt;   Tuberculosis (old or new)                     0   0     0    0</span></span>
<span><span class="co">#&gt;   Empyema                                       2   0     0    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                          0   0     0    0</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"haem"</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: /home/vp22681/Data/avoncap/cache/cached-0ef4812a2d1bc751062531c384a2b89e-c4d33cc1b6de1067e01dfc9cca370ac2.rda</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="va">tmp</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                                                    </span></span>
<span><span class="co">#&gt; admin.record_number           Length:22410       Class :character  </span></span>
<span><span class="co">#&gt; admin.consented_record_number Length:22410       Class :character  </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph             Min.   :   4.60    1st Qu.:   7.36   </span></span>
<span><span class="co">#&gt;  haem.glucose                 Min.   :   0.20    1st Qu.:   5.70   </span></span>
<span><span class="co">#&gt;  haem.albumin                 Min.   :  10.00    1st Qu.:  29.00   </span></span>
<span><span class="co">#&gt; haem.white_cell_count         Min.   :  0.11     1st Qu.:  6.96    </span></span>
<span><span class="co">#&gt; haem.haemoglobin              Min.   : 30.0      1st Qu.:116.0     </span></span>
<span><span class="co">#&gt; haem.haemotocrit              Min.   :0.1000     1st Qu.:0.3580    </span></span>
<span><span class="co">#&gt; haem.neutrophils              Min.   : 0.010     1st Qu.: 4.810    </span></span>
<span><span class="co">#&gt; haem.lymphocytes              Min.   :   0.020   1st Qu.:   0.740  </span></span>
<span><span class="co">#&gt;    haem.crp                   Min.   :  0.39     1st Qu.:  9.00    </span></span>
<span><span class="co">#&gt;  haem.sodium                  Min.   :104.0      1st Qu.:134.0     </span></span>
<span><span class="co">#&gt;   haem.urea                   Min.   :   0.500   1st Qu.:   4.400  </span></span>
<span><span class="co">#&gt;   haem.egfr                   Min.   :  2.00     1st Qu.: 52.00    </span></span>
<span><span class="co">#&gt; haem.ferritin                 Min.   :    4.00   1st Qu.:   94.78  </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                 Min.   :    3.0    1st Qu.:  439.8   </span></span>
<span><span class="co">#&gt;  haem.d_dimer                 Min.   :    0.00   1st Qu.:    0.58  </span></span>
<span><span class="co">#&gt; haem.blood_group              Unknown:14665      O+     : 2600     </span></span>
<span><span class="co">#&gt;                                                                    </span></span>
<span><span class="co">#&gt; admin.record_number           Mode  :character                     </span></span>
<span><span class="co">#&gt; admin.consented_record_number Mode  :character                     </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph             Median :   7.40    Mean   :  13.12   </span></span>
<span><span class="co">#&gt;  haem.glucose                 Median :   6.70    Mean   :  12.96   </span></span>
<span><span class="co">#&gt;  haem.albumin                 Median :  33.00    Mean   :  33.03   </span></span>
<span><span class="co">#&gt; haem.white_cell_count         Median :  9.44     Mean   : 10.79    </span></span>
<span><span class="co">#&gt; haem.haemoglobin              Median :131.0      Mean   :129.3     </span></span>
<span><span class="co">#&gt; haem.haemotocrit              Median :0.3990     Mean   :0.3955    </span></span>
<span><span class="co">#&gt; haem.neutrophils              Median : 7.020     Mean   : 8.286    </span></span>
<span><span class="co">#&gt; haem.lymphocytes              Median :   1.150   Mean   :   1.577  </span></span>
<span><span class="co">#&gt;    haem.crp                   Median : 33.00     Mean   : 66.78    </span></span>
<span><span class="co">#&gt;  haem.sodium                  Median :137.0      Mean   :136.9     </span></span>
<span><span class="co">#&gt;   haem.urea                   Median :   6.200   Mean   :   8.094  </span></span>
<span><span class="co">#&gt;   haem.egfr                   Median : 77.00     Mean   : 68.52    </span></span>
<span><span class="co">#&gt; haem.ferritin                 Median :  290.20   Mean   : 1527.80  </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                 Median : 1958.0    Mean   : 5078.6   </span></span>
<span><span class="co">#&gt;  haem.d_dimer                 Median :    1.71   Mean   : 1032.85  </span></span>
<span><span class="co">#&gt; haem.blood_group              A+     : 2500      B+     :  589     </span></span>
<span><span class="co">#&gt;                                                                    </span></span>
<span><span class="co">#&gt; admin.record_number                                                </span></span>
<span><span class="co">#&gt; admin.consented_record_number                                      </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph             3rd Qu.:   7.43    Max.   :9999.00   </span></span>
<span><span class="co">#&gt;  haem.glucose                 3rd Qu.:   8.40    Max.   :9999.00   </span></span>
<span><span class="co">#&gt;  haem.albumin                 3rd Qu.:  36.00    Max.   :9999.00   </span></span>
<span><span class="co">#&gt; haem.white_cell_count         3rd Qu.: 12.94     Max.   :586.00    </span></span>
<span><span class="co">#&gt; haem.haemoglobin              3rd Qu.:144.0      Max.   :246.0     </span></span>
<span><span class="co">#&gt; haem.haemotocrit              3rd Qu.:0.4360     Max.   :0.7120    </span></span>
<span><span class="co">#&gt; haem.neutrophils              3rd Qu.:10.390     Max.   :90.540    </span></span>
<span><span class="co">#&gt; haem.lymphocytes              3rd Qu.:   1.710   Max.   :2023.000  </span></span>
<span><span class="co">#&gt;    haem.crp                   3rd Qu.: 94.00     Max.   :873.00    </span></span>
<span><span class="co">#&gt;  haem.sodium                  3rd Qu.:140.0      Max.   :180.0     </span></span>
<span><span class="co">#&gt;   haem.urea                   3rd Qu.:   9.400   Max.   :1408.000  </span></span>
<span><span class="co">#&gt;   haem.egfr                   3rd Qu.: 90.00     Max.   :109.00    </span></span>
<span><span class="co">#&gt; haem.ferritin                 3rd Qu.: 1003.25   Max.   :76878.00  </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                 3rd Qu.: 6222.2    Max.   :58184.0   </span></span>
<span><span class="co">#&gt;  haem.d_dimer                 3rd Qu.:  552.00   Max.   :80000.00  </span></span>
<span><span class="co">#&gt; haem.blood_group              A-     :  523      (Other):  797     </span></span>
<span><span class="co">#&gt;                                              </span></span>
<span><span class="co">#&gt; admin.record_number                          </span></span>
<span><span class="co">#&gt; admin.consented_record_number                </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph             NA's   :4971   </span></span>
<span><span class="co">#&gt;  haem.glucose                 NA's   :4131   </span></span>
<span><span class="co">#&gt;  haem.albumin                 NA's   :1515   </span></span>
<span><span class="co">#&gt; haem.white_cell_count         NA's   :952    </span></span>
<span><span class="co">#&gt; haem.haemoglobin              NA's   :951    </span></span>
<span><span class="co">#&gt; haem.haemotocrit              NA's   :953    </span></span>
<span><span class="co">#&gt; haem.neutrophils              NA's   :951    </span></span>
<span><span class="co">#&gt; haem.lymphocytes              NA's   :951    </span></span>
<span><span class="co">#&gt;    haem.crp                   NA's   :1225   </span></span>
<span><span class="co">#&gt;  haem.sodium                  NA's   :966    </span></span>
<span><span class="co">#&gt;   haem.urea                   NA's   :1019   </span></span>
<span><span class="co">#&gt;   haem.egfr                   NA's   :993    </span></span>
<span><span class="co">#&gt; haem.ferritin                 NA's   :21046  </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                 NA's   :18562  </span></span>
<span><span class="co">#&gt;  haem.d_dimer                 NA's   :18975  </span></span>
<span><span class="co">#&gt; haem.blood_group              NA's   :  736</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="augmenting-the-data">Augmenting the data<a class="anchor" aria-label="anchor" href="#augmenting-the-data"></a>
</h2>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span><span class="co"># augmented = data %&gt;% avoncap::augment_data()</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Rob Challen.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
