<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="avoncap">
<title>Getting started • avoncap</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="avoncap">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">avoncap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/avoncap.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/longitudinal-pneumo.html">Pneumococcus longitudinal serotype data</a>
    <a class="dropdown-item" href="../articles/uad-data.html">Pneumococcus urinary antigen data</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting started</h1>
            
      
      
      <div class="d-none name"><code>avoncap.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># library(avoncap)</span></span>
<span><span class="co"># devtools::load_all()</span></span></code></pre></div>
<div class="section level2">
<h2 id="input-data-location">Input data location<a class="anchor" aria-label="anchor" href="#input-data-location"></a>
</h2>
<ul>
<li>first level directories.</li>
<li>Filenames need some indication of database year (either as
20-21,21-22,… or as y1,y2,…)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The data input directory on my development machine:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"avoncap.input"</span> <span class="op">=</span> <span class="st">"~/Data/avoncap/"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The directory structure:</span></span>
<span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/dir_tree.html" class="external-link">dir_tree</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/input.html">input</a></span><span class="op">(</span><span class="op">)</span>,glob<span class="op">=</span><span class="st">"*/cache/*"</span>,invert<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB; font-weight: bold;">/home/vp22681/Data/avoncap</span></span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">avoncap-export</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-03-22</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-06-20</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-07-11</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-09-21</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-07</span></span></span>
<span><span class="co">#&gt; │   │   └── uad-controls.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-09</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── uad-controls.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2023-03-02</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2023-05-02</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── central_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── 22-23 codebook NBT.pdf</span></span>
<span><span class="co">#&gt; │   ├── 22-23 codebook UHBW.pdf</span></span>
<span><span class="co">#&gt; │   ├── Avon CAP - LRTD Patients 21-22 _ REDCap codebook.pdf</span></span>
<span><span class="co">#&gt; │   ├── Avon CAP - LRTD central database 20-21 _ REDCap.pdf</span></span>
<span><span class="co">#&gt; │   ├── AvonCAP Pneumococcus Codebook.pdf</span></span>
<span><span class="co">#&gt; │   ├── AvonCAP field validity.xlsx</span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── avoncap.yaml</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">cache</span></span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">downloads</span></span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">ethnicity</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-07-12</span></span></span>
<span><span class="co">#&gt; │   │   ├── y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-27</span></span></span>
<span><span class="co">#&gt; │   │   ├── y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2023-06-07</span></span></span>
<span><span class="co">#&gt; │   │   ├── y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── y3.csv</span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">google-mobility</span></span></span>
<span><span class="co">#&gt; │   └── Global_Mobility_Report.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">ltla-incidence</span></span></span>
<span><span class="co">#&gt; │   ├── ltla_2022-02-28.csv</span></span>
<span><span class="co">#&gt; │   └── ltla_2022-03-18.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #BB0000; font-weight: bold;">maybe_some_useful_files_data.zip</span></span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">metadata</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-24</span></span></span>
<span><span class="co">#&gt; │   │   ├── central_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── central_y3.csv</span></span>
<span><span class="co">#&gt; │   │   └── uad-controls.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-29</span></span></span>
<span><span class="co">#&gt; │   │   └── pneumococcal.csv</span></span>
<span><span class="co">#&gt; │   └── README.md</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">metadata-review</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-10-25</span></span></span>
<span><span class="co">#&gt; │   │   └── metadata-review.csv</span></span>
<span><span class="co">#&gt; │   ├── AvonCAP 21-22 markred.xlsx</span></span>
<span><span class="co">#&gt; │   └── AvonCAP data dictionary - fields.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">nhs-extract</span></span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-07-11</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-09-20</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y3.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-16</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y3.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-29</span></span></span>
<span><span class="co">#&gt; │   │   └── pneumococcal.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-11-30</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y3.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-12-07</span></span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y2.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_BRI_y3.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y1.csv</span></span>
<span><span class="co">#&gt; │   │   ├── deltave_NBT_y2.csv</span></span>
<span><span class="co">#&gt; │   │   └── deltave_NBT_y3.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2022-12-20</span></span></span>
<span><span class="co">#&gt; │   │   └── ipd_avoncap_linkage.csv</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">2023-02-07</span></span></span>
<span><span class="co">#&gt; │   │   └── pneumococcal.csv</span></span>
<span><span class="co">#&gt; │   ├── README.md</span></span>
<span><span class="co">#&gt; │   └── <span style="color: #0000BB; font-weight: bold;">old</span></span></span>
<span><span class="co">#&gt; │       ├── AdmissionDateByStudyNumber_2022-07-12.csv</span></span>
<span><span class="co">#&gt; │       └── DeltaVE_04042022.csv</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">spim-seroprevalence</span></span></span>
<span><span class="co">#&gt; │   └── week15_2022_seroprev_modellers.csv</span></span>
<span><span class="co">#&gt; └── <span style="color: #0000BB; font-weight: bold;">urine-antigens</span></span></span>
<span><span class="co">#&gt;     ├── <span style="color: #0000BB; font-weight: bold;">2022-09-15</span></span></span>
<span><span class="co">#&gt;     │   └── uad-cases.csv</span></span>
<span><span class="co">#&gt;     ├── <span style="color: #0000BB; font-weight: bold;">2023-05-15</span></span></span>
<span><span class="co">#&gt;     │   └── uad-cases.csv</span></span>
<span><span class="co">#&gt;     ├── B1851202_SAP V1.0-27Sep2021_Final.pdf</span></span>
<span><span class="co">#&gt;     ├── README.md</span></span>
<span><span class="co">#&gt;     └── Table Template Serotype Distribution Scientific Affairs Proposal_FINAL.docx</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get the most recent files</span></span>
<span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/most_recent_files.html">most_recent_files</a></span><span class="op">(</span><span class="st">"ethnicity"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 7</span></span></span>
<span><span class="co">#&gt;   filename directory path                date       hospital study_year filetype</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fs::path&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> y1       ethnicity …/2023-06-07/y1.csv 2023-06-07 <span style="color: #BB0000;">NA</span>               <span style="color: #BB0000;">NA</span> csv     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> y2       ethnicity …/2023-06-07/y2.csv 2023-06-07 <span style="color: #BB0000;">NA</span>               <span style="color: #BB0000;">NA</span> csv     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> y3       ethnicity …/2023-06-07/y3.csv 2023-06-07 <span style="color: #BB0000;">NA</span>               <span style="color: #BB0000;">NA</span> csv</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"missing"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; No suitable files matching "missing", before date: 2023-06-12. Try one of: </span></span>
<span><span class="co">#&gt; as an input to 'type'</span></span>
<span><span class="co">#&gt; Error in avoncap::load_data("missing") : aborting.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-data-sources-and-recording-provenance">Load data sources and recording provenance<a class="anchor" aria-label="anchor" href="#load-data-sources-and-recording-provenance"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ethn</span> <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"ethnicity"</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/data-969416e3870a1ceaa091ca0c1e17ce42-1619dde3dc2c45183aed9b9b4b0bc0d7.rda</span></span>
<span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/most_recent_files.html">most_recent_files</a></span><span class="op">(</span><span class="st">"nhs-extract"</span>,<span class="st">"deltave"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">#&gt;   filename       directory   path        date       hospital study_year filetype</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fs::path&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> deltave_BRI_y1 nhs-extract …BRI_y1.csv 2022-12-07 BRI               1 csv     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> deltave_BRI_y2 nhs-extract …BRI_y2.csv 2022-12-07 BRI               2 csv     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> deltave_BRI_y3 nhs-extract …BRI_y3.csv 2022-12-07 BRI               3 csv     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> deltave_NBT_y1 nhs-extract …NBT_y1.csv 2022-12-07 NBT               1 csv     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> deltave_NBT_y2 nhs-extract …NBT_y2.csv 2022-12-07 NBT               2 csv     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> deltave_NBT_y3 nhs-extract …NBT_y3.csv 2022-12-07 NBT               3 csv</span></span>
<span><span class="va">rawData</span> <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"nhs-extract"</span>,<span class="st">"deltave"</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/data-969416e3870a1ceaa091ca0c1e17ce42-2455e2e169f1b657eeece521d9a79582.rda</span></span>
<span><span class="co"># rawData = avoncap::load_data("nhs-extract","deltave",merge = FALSE)</span></span>
<span><span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/save_data_source_info.html">save_data_source_info</a></span><span class="op">(</span><span class="va">ethn</span>, <span class="va">rawData</span>, .file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"file-info"</span>,fileext <span class="op">=</span> <span class="st">".txt"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 2</span></span></span>
<span><span class="co">#&gt;   path                                                                 md5      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> /home/vp22681/Data/avoncap/ethnicity/2023-06-07/y1.csv               270d33ea…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> /home/vp22681/Data/avoncap/ethnicity/2023-06-07/y2.csv               0a9ee3dc…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> /home/vp22681/Data/avoncap/ethnicity/2023-06-07/y3.csv               3a4a048f…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> /home/vp22681/Data/avoncap/nhs-extract/2022-12-07/deltave_BRI_y1.csv 66825a94…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> /home/vp22681/Data/avoncap/nhs-extract/2022-12-07/deltave_BRI_y2.csv cbd04cf3…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> /home/vp22681/Data/avoncap/nhs-extract/2022-12-07/deltave_BRI_y3.csv b2fd0723…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> /home/vp22681/Data/avoncap/nhs-extract/2022-12-07/deltave_NBT_y1.csv f61195e9…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> /home/vp22681/Data/avoncap/nhs-extract/2022-12-07/deltave_NBT_y2.csv be0456bb…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> /home/vp22681/Data/avoncap/nhs-extract/2022-12-07/deltave_NBT_y3.csv 49d5d4ed…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="normalising-data">Normalising data<a class="anchor" aria-label="anchor" href="#normalising-data"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::install_local(force=TRUE)</span></span>
<span><span class="va">normData</span> <span class="op">=</span> <span class="va">rawData</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Normalising data using: normalise.nhs_extract.deltave</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: consent_urine, consent_blood, consent_resp_samples1, what_was_the_first_surveil, np_swab, adm_np_type, np_date, days_adm_npswab, np_swab_2, adm_np_type_2, np_date_2, np_swab_3, adm_np_type_3, np_date_3, saliva, saliva_date, days_adm_saliva, sputum, sputum_date, days_adm_sputum, pt_ad_ur, adm_ur_taken, nourine_reason, adm_np_type_2, adm_ur_date, days_adm_urine, adm_serum_tak, adm_seru_date, days_adm_serum</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-4e6643bc6bfa024b4f2e5782b41b37dc.rda</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="mapping-columns">Mapping columns<a class="anchor" aria-label="anchor" href="#mapping-columns"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Successfully mapped columns</span></span>
<span><span class="co"># attr(normData,"mapped")</span></span>
<span></span>
<span><span class="co"># Columns that are present in the normData but not mapped</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">normData</span>,<span class="st">"unmapped"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] ".spec_other_resp"    ".spec_other_cardiac" ".c19_compother"</span></span>
<span></span>
<span><span class="co"># Columns not present in the normData for which mapping rules were supplied</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">normData</span>,<span class="st">"missing"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "consent_urine"              "consent_blood"             </span></span>
<span><span class="co">#&gt;  [3] "consent_resp_samples1"      "what_was_the_first_surveil"</span></span>
<span><span class="co">#&gt;  [5] "np_swab"                    "adm_np_type"               </span></span>
<span><span class="co">#&gt;  [7] "np_date"                    "days_adm_npswab"           </span></span>
<span><span class="co">#&gt;  [9] "np_swab_2"                  "adm_np_type_2"             </span></span>
<span><span class="co">#&gt; [11] "np_date_2"                  "np_swab_3"                 </span></span>
<span><span class="co">#&gt; [13] "adm_np_type_3"              "np_date_3"                 </span></span>
<span><span class="co">#&gt; [15] "saliva"                     "saliva_date"               </span></span>
<span><span class="co">#&gt; [17] "days_adm_saliva"            "sputum"                    </span></span>
<span><span class="co">#&gt; [19] "sputum_date"                "days_adm_sputum"           </span></span>
<span><span class="co">#&gt; [21] "pt_ad_ur"                   "adm_ur_taken"              </span></span>
<span><span class="co">#&gt; [23] "nourine_reason"             "adm_np_type_2"             </span></span>
<span><span class="co">#&gt; [25] "adm_ur_date"                "days_adm_urine"            </span></span>
<span><span class="co">#&gt; [27] "adm_serum_tak"              "adm_seru_date"             </span></span>
<span><span class="co">#&gt; [29] "days_adm_serum"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="original-field-names-and-labels-">Original field names, and labels.<a class="anchor" aria-label="anchor" href="#original-field-names-and-labels-"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span></span>
<span><span class="co"># generate a set of readable label mappings from column to printable name for the whole normData set</span></span>
<span><span class="co"># overriding a particular label</span></span>
<span><span class="co"># readable_label_mapping(normData, demog.age="TEST")</span></span>
<span></span>
<span><span class="co"># Map a single column name as a string to a readable label</span></span>
<span><span class="fu"><a href="../reference/readable_label.html">readable_label</a></span><span class="op">(</span><span class="st">"comorbid.previous_MI"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Previous MI"</span></span>
<span></span>
<span><span class="co"># get mapping from original field names pre-normalisation to</span></span>
<span><span class="co"># post normalisation fields</span></span>
<span><span class="fu"><a href="../reference/original_field_names.html">original_field_names</a></span><span class="op">(</span><span class="va">normData</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       consented                             ppc </span></span>
<span><span class="co">#&gt;               "admin.consented"            "admin.pp_consented" </span></span>
<span><span class="co">#&gt;                      withdrawal                   record_number </span></span>
<span><span class="co">#&gt;              "admin.withdrawal"           "admin.record_number" </span></span>
<span><span class="co">#&gt;                 ac_study_number                      nhs_number </span></span>
<span><span class="co">#&gt; "admin.consented_record_number"      "admin.patient_identifier" </span></span>
<span><span class="co">#&gt;                       duplicate                 enrollment_date </span></span>
<span><span class="co">#&gt;               "admin.duplicate"         "admin.enrollment_date" </span></span>
<span><span class="co">#&gt;                      study_year                            file </span></span>
<span><span class="co">#&gt;              "admin.study_year"               "admin.data_file" </span></span>
<span><span class="co">#&gt;                     week_number                            year </span></span>
<span><span class="co">#&gt;             "admin.week_number"                "admission.year" </span></span>
<span><span class="co">#&gt;                      study_week                  admission_date </span></span>
<span><span class="co">#&gt;          "admission.study_week"                "admission.date" </span></span>
<span><span class="co">#&gt;                        hospital </span></span>
<span><span class="co">#&gt;                "admin.hospital"</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># unname(readable_label_mapping(normData))</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="augmenting-the-ve-extract-data">Augmenting the VE extract data<a class="anchor" aria-label="anchor" href="#augmenting-the-ve-extract-data"></a>
</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span><span class="va">augData</span> <span class="op">=</span> <span class="va">normData</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/augment_data.html">augment_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Augmenting data using: augment.nhs_extract.deltave</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/augment-c0a6188e8e5ceeed5c7f302b593a85fd-62aa8019659c8688f21b10a99b141b3c.rda</span></span>
<span><span class="co">#&gt; Created demog.age_category, demog.age_eligible, admission.cci_category, admission.rockwood_category, admission.curb_65_category using: demog.age, admission.charlson_comorbidity_index, admission.rockwood_score, admission.curb_65_severity_score</span></span>
<span><span class="co">#&gt; Created admission.episode, admission.interval using: admin.patient_identifier, admission.date</span></span>
<span><span class="co">#&gt; Created comorbid.diabetes_type, comorbid.solid_cancer_present, comorbid.haemotological_cancer_present, comorbid.any_cancer_present, comorbid.any_chronic_lung_disease, comorbid.any_chronic_heart_disease, comorbid.cva_or_tia using: comorbid.diabetes, comorbid.solid_cancer, comorbid.leukaemia, comorbid.lymphoma, comorbid.no_haemotological_cancer, comorbid.asthma, comorbid.bronchiectasis, comorbid.chronic_pleural_dx, comorbid.copd, comorbid.interstitial_lung_dx, comorbid.cystic_fibrosis, comorbid.other_chronic_resp_dx, comorbid.pulmonary_hypertension, comorbid.ccf, comorbid.ihd, comorbid.previous_mi, comorbid.congenital_heart_dx, comorbid.hypertension, comorbid.af, comorbid.other_arrythmia, comorbid.other_heart_dx, comorbid.other_other_heart_dx, comorbid.cva, comorbid.tia</span></span>
<span><span class="co">#&gt; Created admission.covid_pcr_result, admission.is_covid using: diagnosis.covid_19_diagnosis, diagnosis.admission_swab, diagnosis.test_type</span></span>
<span><span class="co">#&gt; Created diagnosis.pneumonia, diagnosis.LRTI, diagnosis.exacerbation_of_chronic_respiratory_disease, diagnosis.heart_failure using: diagnosis.SOC_CAP_clinically_confirmed, diagnosis.SOC_CAP_radiologically_confirmed, diagnosis.SOC_CAP_no_radiology, diagnosis.SOC_Empyema_or_abscess, admission.cxr_pneumonia, diagnosis.SOC_LRTI, diagnosis.SOC_exacerbation_COPD, diagnosis.SOC_exacerbation_non_COPD, diagnosis.SOC_congestive_heart_failure</span></span>
<span><span class="co">#&gt; Created admission.infective_cause using: diagnosis.SOC_non_infectious_process, diagnosis.SOC_non_LRTI</span></span>
<span><span class="co">#&gt; Created admission.category, admission.presentation_3_class using:</span></span>
<span><span class="co">#&gt; Created diagnosis.infection_context using: diagnosis.first_COVID_positive_swab_date, admission.date</span></span>
<span><span class="co">#&gt; Created genomic.variant_inferred using: genomic.variant, admission.date</span></span>
<span><span class="co">#&gt; Created symptom_onset.date_of_symptoms, symptom_onset.time_of_symptoms_since_first_vaccine_dose, symptom_onset.time_of_symptoms_since_second_vaccine_dose, symptom_onset.time_of_symptoms_since_third_vaccine_dose, symptom_onset.time_of_symptoms_since_fourth_vaccine_dose, vaccination.dose_interval, vaccination.booster_interval, vaccination.second_booster_interval using: admission.date, admission.duration_symptoms, admission.time_since_first_vaccine_dose, admission.time_since_second_vaccine_dose, admission.time_since_third_vaccine_dose, admission.time_since_fourth_vaccine_dose</span></span>
<span><span class="co">#&gt; Created vaccination.protection using: vaccination.covid_vaccination, admission.time_since_fourth_vaccine_dose, admission.duration_symptoms, admission.time_since_third_vaccine_dose, admission.time_since_second_vaccine_dose, admission.time_since_first_vaccine_dose, admission.previous_covid_infection</span></span>
<span><span class="co">#&gt; Created vaccination.vaccination using: vaccination.covid_vaccination, admission.time_since_sixth_vaccine_dose, admission.duration_symptoms, admission.time_since_fifth_vaccine_dose, admission.time_since_fourth_vaccine_dose, admission.time_since_third_vaccine_dose, admission.time_since_second_vaccine_dose, admission.time_since_first_vaccine_dose</span></span>
<span><span class="co">#&gt; Created vaccination.brand_combination using: vaccination.first_dose_brand, vaccination.second_dose_brand, vaccination.third_dose_brand</span></span>
<span><span class="co">#&gt; Created admission.pneumococcal_high_risk using: demog.age, comorbid.other_pneumococcal_risks, comorbid.copd, comorbid.interstitial_lung_dx, comorbid.cystic_fibrosis, comorbid.hypertension, comorbid.ccf, comorbid.ihd, comorbid.ckd, comorbid.liver_disease, comorbid.diabetes, comorbid.immunodeficiency, comorbid.asthma, admission.on_immunosuppression</span></span>
<span><span class="co">#&gt; Created admission.pneumococcal_risk_classification using: comorbid.cva, comorbid.immunodeficiency, comorbid.leukaemia, comorbid.lymphoma, comorbid.no_haemotological_cancer, admission.on_immunosuppression, comorbid.transplant_recipient, comorbid.ckd, comorbid.HIV, comorbid.solid_cancer, demog.care_home_resident, demog.smoker, demog.age, demog.alcohol_abuse, comorbid.diabetes, comorbid.diabetes_medications, comorbid.paraplegia, comorbid.copd, comorbid.interstitial_lung_dx, comorbid.cystic_fibrosis, comorbid.asthma, comorbid.liver_disease, comorbid.ccf, comorbid.ihd, comorbid.other_pneumococcal_risks</span></span>
<span><span class="co">#&gt; Created day_7.WHO_clinical_progression, outcome.WHO_clinical_progression using: day_7.death, day_7.max_ventilation_level, day_7.ionotropes_needed, day_7.max_o2_level, outcome.survival_duration, outcome.functional_status, outcome.highest_level_ventilatory_support, outcome.received_ionotropes, outcome.respiratory_support_needed</span></span>
<span><span class="co">#&gt; Created outcome.icu_admission, outcome.death_within_30_days, outcome.death_during_follow_up using: outcome.icu_duration, day_7.death, outcome.survival_duration, outcome.inpatient_death, outcome.functional_status</span></span>
<span><span class="co">#&gt; Created day_7.max_o2_gt_28, day_7.max_o2_gt_35, day_7.max_o2_gt_50, day_7.WHO_score_gt_6, day_7.WHO_score_gt_5, day_7.los_gt_3, day_7.los_gt_5, day_7.los_gt_7 using: day_7.max_o2_level, day_7.length_of_stay, outcome.survival_duration</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="loading-and-normalising-the-central-database">loading and normalising the central database<a class="anchor" aria-label="anchor" href="#loading-and-normalising-the-central-database"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rawData2</span> <span class="op">=</span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span><span class="st">"avoncap-export"</span>,<span class="st">"central"</span>, merge<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/data-969416e3870a1ceaa091ca0c1e17ce42-16c48a07f940b02d4ecc60caa1f9ff8f.rda</span></span>
<span><span class="co"># without merge: currently: INCONSISTENT COLUMN(S) IN FILES: sars_cov2_antigen</span></span>
<span><span class="co"># due to the fact it is mostly a numeric but some values "&gt;250"</span></span>
<span></span>
<span><span class="co"># devtools::load_all()</span></span>
<span><span class="va">normData2</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Normalising data using: normalise.avoncap_export.central</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/data-969416e3870a1ceaa091ca0c1e17ce42-1619dde3dc2c45183aed9b9b4b0bc0d7.rda</span></span>
<span><span class="co">#&gt; Admission date is derived from study week and hence approximate.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: nhs_number, np_swab_3, adm_np_type_3, nourine_reason, covidvax_date, covidvax_dose_2, covidvax_dose_3, covidvax_dose_4, covidvax_dose_5, covidvax_dose_6, flu_date, ppv23_date, previousinfection_date</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-75c319e01bcd813f3799fd10aef10854.rda</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">normMicro</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"micro"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Normalising data using: normalise.avoncap_export.central.micro</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-bac5833d60cfe1af3d53143364ade99c-de3375f6f0d4dc1eca4fba4197860bcc.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_1</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-d969850b87a1414772ae45e6feb2f263.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_1 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_1 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_1 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_1 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_1 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .pn_result_1 to micro.pneumo_serotype_status</span></span>
<span><span class="co">#&gt; mapping .pn_st_1 to micro.pneumo_serotype</span></span>
<span><span class="co">#&gt; mapping .micro_lab_1 to micro.sent_to_central_lab</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_1___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_1___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_1___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_1___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_1___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_1___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_1___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_1___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_1___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_1___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_1___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_1___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_1___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_1___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_1___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_1___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_1___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_1___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_1___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_1___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_1 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_1 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_1 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 105 columns</span></span>
<span><span class="co">#&gt; Did not map 3294 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_2</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-39a64ed9fc96e220e2f7b77616ad2e0b.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_2 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_2 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_2 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_2 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_2 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .pn_result_2 to micro.pneumo_serotype_status</span></span>
<span><span class="co">#&gt; mapping .pn_st_2 to micro.pneumo_serotype</span></span>
<span><span class="co">#&gt; mapping .micro_lab_2 to micro.sent_to_central_lab</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_2___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_2___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_2___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_2___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_2___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_2___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_2___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_2___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_2___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_2___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_2___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_2___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_2___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_2___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_2___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_2___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_2___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_2___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_2___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_2___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_2 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_2 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_2 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 105 columns</span></span>
<span><span class="co">#&gt; Did not map 3294 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_3, pn_st_3</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-70e1854f77d325ee71d2567c29f507b3.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_3 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_3 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_3 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_3 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_3 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .pn_result_3 to micro.pneumo_serotype_status</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_3 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .micro_lab_3 to micro.sent_to_central_lab</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_3___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_3___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_3___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_3___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_3___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_3___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_3___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_3___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_3___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_3___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_3___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_3___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_3___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_3___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_3___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_3___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_3___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_3___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_3___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_3___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_3 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_3 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_3 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 104 columns</span></span>
<span><span class="co">#&gt; Did not map 3295 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_4, pn_st_4</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-163661fa0647b6e734089ccdaea4e176.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_4 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_4 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_4 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_4 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_4 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .pn_result_4 to micro.pneumo_serotype_status</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_4 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .micro_lab_4 to micro.sent_to_central_lab</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_4___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_4___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_4___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_4___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_4___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_4___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_4___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_4___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_4___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_4___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_4___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_4___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_4___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_4___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_4___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_4___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_4___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_4___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_4___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_4___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_4 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_4 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_4 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 104 columns</span></span>
<span><span class="co">#&gt; Did not map 3295 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_5, pn_result_5, pn_st_5, micro_lab_5</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-4bac88633de42451c1d4e23eb7d7d1f4.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_5 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_5 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_5 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_5 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_5 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_5 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_5 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_5 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_5___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_5___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_5___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_5___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_5___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_5___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_5___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_5___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_5___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_5___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_5___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_5___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_5___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_5___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_5___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_5___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_5___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_5___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_5___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_5___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_5 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_5 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_5 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 102 columns</span></span>
<span><span class="co">#&gt; Did not map 3297 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_6, pn_st_6, micro_lab_6</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-be2f1a2c18fac4bafaf070f85616ca20.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_6 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_6 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_6 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_6 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_6 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .pn_result_6 to micro.pneumo_serotype_status</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_6 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_6 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_6___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_6___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_6___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_6___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_6___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_6___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_6___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_6___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_6___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_6___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_6___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_6___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_6___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_6___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_6___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_6___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_6___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_6___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_6___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_6___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_6 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_6 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_6 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 103 columns</span></span>
<span><span class="co">#&gt; Did not map 3296 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_7, pn_result_7, pn_st_7, micro_lab_7</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-19c426d3c8fbbaa4e79e6b138b714c8d.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_7 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_7 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_7 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_7 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_7 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_7 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_7 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_7 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_7___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_7___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_7___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_7___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_7___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_7___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_7___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_7___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_7___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_7___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_7___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_7___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_7___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_7___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_7___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_7___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_7___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_7___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_7___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_7___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_7 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_7 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_7 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 102 columns</span></span>
<span><span class="co">#&gt; Did not map 3297 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_8, pn_result_8, pn_st_8</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-926ca49d33891c565e76a112bf677d6a.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_8 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_8 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_8 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_8 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_8 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_8 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_8 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .micro_lab_8 to micro.sent_to_central_lab</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_8___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_8___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_8___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_8___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_8___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_8___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_8___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_8___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_8___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_8___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_8___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_8___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_8___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_8___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_8___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_8___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_8___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_8___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_8___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_8___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_8 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_8 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_8 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 103 columns</span></span>
<span><span class="co">#&gt; Did not map 3296 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_9, pn_result_9, pn_st_9, micro_lab_9</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-40b3939d19d82efb35fbdb3707482dd6.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_9 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_9 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_9 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_9 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_9 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_9 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_9 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_9 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_9___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_9___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_9___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_9___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_9___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_9___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_9___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_9___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_9___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_9___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_9___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_9___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_9___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_9___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_9___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_9___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_9___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_9___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_9___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_9___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_9 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_9 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_9 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 102 columns</span></span>
<span><span class="co">#&gt; Did not map 3297 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_10, pn_result_10, pn_st_10, micro_lab_10</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-747c153d5eacfc40a7ed170aa77ad615.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_10 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_10 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_10 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_10 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_10 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_10 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_10 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_10 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_10___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_10___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_10___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_10___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_10___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_10___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_10___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_10___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_10___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_10___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_10___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_10___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_10___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_10___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_10___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_10___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_10___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_10___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_10___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_10___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_10 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_10 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_10 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 102 columns</span></span>
<span><span class="co">#&gt; Did not map 3297 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_11, pn_result_11, pn_st_11, micro_lab_11, lg_uat_result_11</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-0d0d7c54da6dc7336847f0bfb19d8661.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_11 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_11 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_11 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_11 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_11 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_11 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_11 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_11 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_11___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_11___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_11___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_11___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_11___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_11___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_11___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_11___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_11___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_11___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_11___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_11___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_11___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_11___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_11___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_11___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_11___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_11___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_11___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_11___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_11 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; the input data set does not have a lg_uat_result_11 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_11 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 101 columns</span></span>
<span><span class="co">#&gt; Did not map 3298 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_12, pn_result_12, pn_st_12, micro_lab_12</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-0fb9f1dddfad5ce5af55355e42cf8af9.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_12 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_12 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_12 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_12 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_12 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_12 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_12 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_12 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_12___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_12___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_12___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_12___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_12___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_12___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_12___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_12___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_12___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_12___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_12___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_12___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_12___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_12___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_12___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_12___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_12___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_12___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_12___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_12___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_12 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_12 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_12 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 102 columns</span></span>
<span><span class="co">#&gt; Did not map 3297 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_13, pn_result_13, pn_st_13, micro_lab_13</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-de29db0f6349031c3d0aa3c7c2dfdc0b.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_13 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_13 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_13 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_13 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_13 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_13 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_13 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_13 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_13___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_13___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_13___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_13___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_13___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_13___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_13___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_13___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_13___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_13___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_13___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_13___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_13___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_13___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_13___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_13___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_13___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_13___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_13___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_13___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_13 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_13 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_13 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 102 columns</span></span>
<span><span class="co">#&gt; Did not map 3297 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_14, pn_result_14, pn_st_14, micro_lab_14, pn_uat_result_14</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-12ef473aa4883a921a431575708a0101.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_14 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_14 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_14 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_14 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_14 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_14 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_14 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_14 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_14___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_14___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_14___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_14___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_14___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_14___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_14___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_14___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_14___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_14___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_14___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_14___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_14___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_14___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_14___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_14___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_14___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_14___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_14___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_14___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_uat_result_14 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .lg_uat_result_14 to micro.pneumo_legionella_uat</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_14 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 101 columns</span></span>
<span><span class="co">#&gt; Did not map 3298 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_15, pn_result_15, pn_st_15, micro_lab_15, lg_uat_result_15</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-21dddd670b96e67c46a339d1c7e06ebe.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_15 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_15 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_15 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_15 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_15 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_15 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_15 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_15 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_15___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_15___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_15___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_15___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_15___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_15___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_15___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_15___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_15___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_15___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_15___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_15___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_15___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_15___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_15___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_15___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_15___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_15___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_15___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_15___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .pn_uat_result_15 to micro.pneumo_binax_now</span></span>
<span><span class="co">#&gt; the input data set does not have a lg_uat_result_15 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_15 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 101 columns</span></span>
<span><span class="co">#&gt; Did not map 3298 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: microtest_date_16, pn_result_16, pn_st_16, micro_lab_16, pn_uat_result_16, lg_uat_result_16</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-e448499184697b8f61114639cdf97a61.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .microtest_done_16 to micro.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a microtest_date_16 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .microday_16 to micro.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .micro_test_16 to micro.test_type</span></span>
<span><span class="co">#&gt; mapping .micro_isolates_16 to micro.pathogen_detected</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_result_16 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_st_16 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a micro_lab_16 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_16___1 to micro.penicillin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_16___2 to micro.penicillin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_16___3 to micro.penicillin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .pen_susceptibility_16___4 to micro.penicillin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_16___1 to micro.septrin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_16___2 to micro.septrin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_16___3 to micro.septrin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .septrin_susceptibility_16___4 to micro.septrin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_16___1 to micro.doxycycline_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_16___2 to micro.doxycycline_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_16___3 to micro.doxycycline_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .doxy_susceptibility_16___4 to micro.doxycycline_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_16___1 to micro.levofloxacin_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_16___2 to micro.levofloxacin_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_16___3 to micro.levofloxacin_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .levoflox_suscept_16___4 to micro.levofloxacin_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_16___1 to micro.ceftriaxone_susceptibility, value Unknown</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_16___2 to micro.ceftriaxone_susceptibility, value Sensitive</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_16___3 to micro.ceftriaxone_susceptibility, value Intermediate</span></span>
<span><span class="co">#&gt; mapping .cef_susceptibility_16___4 to micro.ceftriaxone_susceptibility, value Resistant</span></span>
<span><span class="co">#&gt; the input data set does not have a pn_uat_result_16 column (or column set)</span></span>
<span><span class="co">#&gt; the input data set does not have a lg_uat_result_16 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .micro_final_report_16 to micro.is_final_report</span></span>
<span><span class="co">#&gt; Mapped 100 columns</span></span>
<span><span class="co">#&gt; Did not map 3299 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span></span>
<span><span class="va">normMicro</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">micro.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pathogen</span>,<span class="va">detected</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                   detected</span></span>
<span><span class="co">#&gt; pathogen                              no   yes  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Aspergillus                      23129    17     0</span></span>
<span><span class="co">#&gt;   Streptococcus Agalactiae         23136    10     0</span></span>
<span><span class="co">#&gt;   Candida                          22590   556     0</span></span>
<span><span class="co">#&gt;   Achromobacter Xylosoxidans       23135    11     0</span></span>
<span><span class="co">#&gt;   Bacteroides                      23142     4     0</span></span>
<span><span class="co">#&gt;   Bacteroides fragilis             23140     6     0</span></span>
<span><span class="co">#&gt;   Bacteroides ovatus               23146     0     0</span></span>
<span><span class="co">#&gt;   Bacteroides uniformis            23146     0     0</span></span>
<span><span class="co">#&gt;   Burholderia cepacia              23143     3     0</span></span>
<span><span class="co">#&gt;   Citrobacter freundii complex     23123    23     0</span></span>
<span><span class="co">#&gt;   Citrobacter koseri               23111    35     0</span></span>
<span><span class="co">#&gt;   Clostridium perfringens          23137     9     0</span></span>
<span><span class="co">#&gt;   Eggerthella lenta                23146     0     0</span></span>
<span><span class="co">#&gt;   Enterobacter aerogenes           23141     5     0</span></span>
<span><span class="co">#&gt;   Enterobacter cloacae             23050    96     0</span></span>
<span><span class="co">#&gt;   Enterococcus faecalis            23089    57     0</span></span>
<span><span class="co">#&gt;   Enterococcus faecium             23118    28     0</span></span>
<span><span class="co">#&gt;   Escherichia coli                 22733   413     0</span></span>
<span><span class="co">#&gt;   Haemophilus influenzae           22911   235     0</span></span>
<span><span class="co">#&gt;   Haemophilus parainfluenzae       23144     2     0</span></span>
<span><span class="co">#&gt;   Klebsiella oxytoca               23088    58     0</span></span>
<span><span class="co">#&gt;   Klebsiella pneumoniae            22995   151     0</span></span>
<span><span class="co">#&gt;   Morganella morganii              23141     5     0</span></span>
<span><span class="co">#&gt;   Peptostreptococcus anaerobius    23146     0     0</span></span>
<span><span class="co">#&gt;   Proteus mirabilis                23091    55     0</span></span>
<span><span class="co">#&gt;   Pseudomonas aeruginosa           22821   325     0</span></span>
<span><span class="co">#&gt;   Serratia marcescens              23109    37     0</span></span>
<span><span class="co">#&gt;   Staphylcoccus aureus             22815   331     0</span></span>
<span><span class="co">#&gt;   Streptococcus anginosus          23140     6     0</span></span>
<span><span class="co">#&gt;   Streptococcus pneumoniae         23030   116     0</span></span>
<span><span class="co">#&gt;   Streptococcus salivarius group   23141     5     0</span></span>
<span><span class="co">#&gt;   Stenotrophomonas maltophilia     23099    47     0</span></span>
<span><span class="co">#&gt;   Acinetobacter                    23131    15     0</span></span>
<span><span class="co">#&gt;   Aspergillus niger                23146     0     0</span></span>
<span><span class="co">#&gt;   Bacillus                         23140     6     0</span></span>
<span><span class="co">#&gt;   Candida albicans                 23119    27     0</span></span>
<span><span class="co">#&gt;   Candida glabrata                 23140     6     0</span></span>
<span><span class="co">#&gt;   Candida tropicalis               23141     5     0</span></span>
<span><span class="co">#&gt;   Coagulase negative staphylcoccus 23134    12     0</span></span>
<span><span class="co">#&gt;   Corynebacterium                  23125    21     0</span></span>
<span><span class="co">#&gt;   Enterococcus                     23141     5     0</span></span>
<span><span class="co">#&gt;   Gram positive coccus             23130    16     0</span></span>
<span><span class="co">#&gt;   Klebsiella                       23124    22     0</span></span>
<span><span class="co">#&gt;   Legionella pneumoniae            23144     2     0</span></span>
<span><span class="co">#&gt;   MRSA                             23140     6     0</span></span>
<span><span class="co">#&gt;   MSSA                             23145     1     0</span></span>
<span><span class="co">#&gt;   Moraxella catarrhalis            23096    50     0</span></span>
<span><span class="co">#&gt;   Mycobacterium tuberculosis       23140     6     0</span></span>
<span><span class="co">#&gt;   Pneumocytis jirovecii            23144     2     0</span></span>
<span><span class="co">#&gt;   Pseudomonas                      23079    67     0</span></span>
<span><span class="co">#&gt;   Pseudomonas fluorescens          23145     1     0</span></span>
<span><span class="co">#&gt;   Staphylcoccus                    23127    19     0</span></span>
<span><span class="co">#&gt;   Staphylococcus capitis           23105    41     0</span></span>
<span><span class="co">#&gt;   Staphylococcus epidermidis       22909   237     0</span></span>
<span><span class="co">#&gt;   Staphylococcus hominis           23009   137     0</span></span>
<span><span class="co">#&gt;   Streptococcus                    23127    19     0</span></span>
<span><span class="co">#&gt;   Streptococcus beta-hemolytic     23088    58     0</span></span>
<span><span class="co">#&gt;   Streptococcus pyogenes           23136    10     0</span></span>
<span><span class="co">#&gt;   Streptococcus viridans           23146     0     0</span></span>
<span><span class="co">#&gt;   Yeast                            23112    34     0</span></span>
<span><span class="co">#&gt;   Other                            22637   509     0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                 0     0     0</span></span>
<span><span class="va">normMicro</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">micro.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">micro.test_type</span>, <span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">micro.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">detected</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">group_by</span><span class="op">(</span><span class="va">pathogen</span>, <span class="va">micro.test_type</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 190 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   pathogen, micro.test_type [190]</span></span></span>
<span><span class="co">#&gt;    pathogen                   micro.test_type      n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Candida                    Sputum             338</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Escherichia coli           Blood culture      293</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Other                      Blood culture      274</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Staphylococcus epidermidis Blood culture      228</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Pseudomonas aeruginosa     Sputum             195</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Haemophilus influenzae     Sputum             170</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Other                      Sputum             150</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Staphylcoccus aureus       Blood culture      146</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Staphylococcus hominis     Blood culture      136</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Candida                    Respiratory swab   123</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 180 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">normVirol</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"virol"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Normalising data using: normalise.avoncap_export.central.virol</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-cfb2b3e08feee844479143a926465613-de3375f6f0d4dc1eca4fba4197860bcc.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_1</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-5802a78c9b26b7c2ff3d325fcbb3cc57.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_1 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_1 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_1 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_1 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_1 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_1 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_1 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_2</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-d141ae861f26251b9d74407b1ff07e3e.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_2 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_2 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_2 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_2 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_2 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_2 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_2 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_3</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-ebedd19ddaf592dfbec99cb8ad622e55.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_3 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_3 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_3 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_3 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_3 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_3 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_3 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_4</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-22d00ebfff73e3d3e2f90350b4206c39.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_4 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_4 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_4 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_4 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_4 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_4 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_4 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_5</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-09ceb6c7b602f3068b2173c4ab7dd330.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_5 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_5 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_5 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_5 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_5 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_5 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_5 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_6</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-38942ab865ae955ff8195647adfb1ab1.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_6 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_6 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_6 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_6 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_6 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_6 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_6 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_7</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-e5b97e8ccc8f695a21edef4c3754d178.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_7 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_7 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_7 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_7 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_7 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_7 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_7 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_8</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-a81d7e0bf6390846dae3e0597c7e06b9.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_8 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_8 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_8 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_8 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_8 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_8 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_8 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_9</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-5584ceb6ddb741581dabf885f1dd6ca9.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_9 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_9 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_9 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_9 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_9 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_9 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_9 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_10</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-b81d2ca638e21fe19ab16d854957bab3.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_10 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_10 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_10 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_10 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_10 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_10 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_10 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_11</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-b65ff9aa78a9719b497eb972d0534231.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_11 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_11 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_11 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_11 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_11 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_11 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_11 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_12</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-ca31087b1cff1ba3aeb72c72ca7aab06.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_12 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_12 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_12 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_12 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_12 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_12 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_12 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_13, virol_patient_lab_13</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-7999faf1b091a1aa29880a0e9bfa6f39.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_13 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_13 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_13 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_13 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_13 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_13 to virol.test_type</span></span>
<span><span class="co">#&gt; the input data set does not have a virol_patient_lab_13 column (or column set)</span></span>
<span><span class="co">#&gt; Mapped 35 columns</span></span>
<span><span class="co">#&gt; Did not map 3364 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_14, virol_patient_lab_14</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-654f205aa5d2b6996d3c979114c787e9.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_14 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_14 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_14 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_14 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_14 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_14 to virol.test_type</span></span>
<span><span class="co">#&gt; the input data set does not have a virol_patient_lab_14 column (or column set)</span></span>
<span><span class="co">#&gt; Mapped 35 columns</span></span>
<span><span class="co">#&gt; Did not map 3364 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_15</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-d9cc8b3a1bc0c432278989c6ba1cdc4d.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_15 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_15 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_15 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .specimen_type_15 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_15 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_15 to virol.test_type</span></span>
<span><span class="co">#&gt; mapping .virol_patient_lab_15 to virol.test_provenance</span></span>
<span><span class="co">#&gt; Mapped 36 columns</span></span>
<span><span class="co">#&gt; Did not map 3363 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: virology_date_of_asst_16, specimen_type_16, virol_patient_lab_16</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-b39d9345b613a837c0b4c933f739d0e8.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .viral_testing_performed_16 to virol.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a virology_date_of_asst_16 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .viroldays_16 to virol.test_days_from_admission</span></span>
<span><span class="co">#&gt; the input data set does not have a specimen_type_16 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .virus_isolated_16 to virol.pathogen_detected</span></span>
<span><span class="co">#&gt; mapping .test_type_16 to virol.test_type</span></span>
<span><span class="co">#&gt; the input data set does not have a virol_patient_lab_16 column (or column set)</span></span>
<span><span class="co">#&gt; Mapped 34 columns</span></span>
<span><span class="co">#&gt; Did not map 3365 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span></span>
<span><span class="va">normVirol</span>  <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">virol.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pathogen</span>,<span class="va">detected</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                          detected</span></span>
<span><span class="co">#&gt; pathogen                                     no   yes  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Influenza A                             60038   537     0</span></span>
<span><span class="co">#&gt;   Influenza B                             60569     6     0</span></span>
<span><span class="co">#&gt;   RSV                                     60340   235     0</span></span>
<span><span class="co">#&gt;   Adenovirus                              60563    12     0</span></span>
<span><span class="co">#&gt;   Human Metapneumovirus                   60421   154     0</span></span>
<span><span class="co">#&gt;   Human Rhinovirus/Enterovirus            60341   234     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 1                    60560    15     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 2                    60566     9     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 3                    60540    35     0</span></span>
<span><span class="co">#&gt;   Parainfluenza Type 4                    60565    10     0</span></span>
<span><span class="co">#&gt;   Covid-19                                47670 12905     0</span></span>
<span><span class="co">#&gt;   Other                                   60530    45     0</span></span>
<span><span class="co">#&gt;   Coronavirus 229E                        60574     1     0</span></span>
<span><span class="co">#&gt;   Coronavirus HKU1                        60574     1     0</span></span>
<span><span class="co">#&gt;   Coronavirus NL63                        60573     2     0</span></span>
<span><span class="co">#&gt;   Coronavirus OC43                        60571     4     0</span></span>
<span><span class="co">#&gt;   Middle East Respiratory Syndrome (MERS) 60575     0     0</span></span>
<span><span class="co">#&gt;   Bordetella parapertussis (IS1001)       60573     2     0</span></span>
<span><span class="co">#&gt;   Bordetella pertussis (ptxP)             60575     0     0</span></span>
<span><span class="co">#&gt;   Chlamydia pneumoniae                    60573     2     0</span></span>
<span><span class="co">#&gt;   Mycoplasma pneumoniae                   60575     0     0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                        0     0     0</span></span>
<span><span class="va">normVirol</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">virol.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">virol.test_type</span>, <span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">virol.pathogen</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">detected</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># with(table(pathogen, virol.test_type,  useNA = "always")) %&gt;% </span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">pathogen</span>, <span class="va">virol.test_type</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 48 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   pathogen, virol.test_type [48]</span></span></span>
<span><span class="co">#&gt;    pathogen                     virol.test_type               n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Covid-19                     PCR - COVID only           <span style="text-decoration: underline;">8</span>670</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Covid-19                     POCT Test (Abbott)         <span style="text-decoration: underline;">3</span>360</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Covid-19                     Lateral Flow - COVID only   624</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Influenza A                  PCR - Respiratory panel     247</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Influenza A                  Lateral Flow - COVID only   212</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Human Rhinovirus/Enterovirus PCR - Respiratory panel     186</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Covid-19                     Viral Culture               139</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> RSV                          PCR - Respiratory panel     138</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Human Metapneumovirus        PCR - Respiratory panel     115</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Covid-19                     PCR - Respiratory panel      84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 38 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">normRadio</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"radio"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Normalising data using: normalise.avoncap_export.central.radio</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-54ff4a71f9ddec1dbf62dbffb5e8513b-de3375f6f0d4dc1eca4fba4197860bcc.rda</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_1</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-f19103d7373b7a35a8dc1cbde33e4b16.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_1 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_1 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_1 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_1 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_2</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-cb149b4cac00f5b401600cd0cd0983c0.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_2 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_2 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_2 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_2 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_3</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-6f3a7a5934d7e76fd31ba33be740daa3.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_3 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_3 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_3 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_3 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_4</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-d9e2c719272da74b97e8b687264f90ca.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_4 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_4 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_4 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_4 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_5</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-7908f342d68908e34fc87eac3b674a5b.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_5 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_5 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_5 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_5 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_6</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-980b249f7cf0a09d3f268c4df4c445d3.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_6 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_6 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_6 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_6 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_7</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-e9022fd3a9ef92eba05eb2ec8ff1f932.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_7 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_7 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_7 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_7 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_8</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-34d0fca128b283c2a7ab2fb1c940d652.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_8 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_8 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_8 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_8 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_9</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-4c31732a4ec9c4eaf849b90cecbe8de7.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_9 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_9 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_9 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_9 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_10</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-c9fe78415bf8e5515d99a4641bb6011e.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_10 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_10 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_10 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_10 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_11</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-a3f3f8d7969bc8be54eef9330dac20ae.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_11 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_11 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_11 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_11 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_12</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-3b14a2be0a15a1654aae86468e08f4ae.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_12 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_12 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_12 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_12 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_13</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-4ca25e3f215979ce10c248e93527bc87.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_13 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_13 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_13 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_13 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_14</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-dbfa523132bfe3a09a3ef8791d978340.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_14 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_14 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_14 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_14 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_15</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-8a8b9a459509d1443910cc7bcd3b859f.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_15 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_15 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_15 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_15 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span><span class="co">#&gt; Some columns expected in the mappings were not present: radiology_date_16</span></span>
<span><span class="co">#&gt; caching item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-9a913d5751263bf913d7f7a0d9c06f3a.rda</span></span>
<span><span class="co">#&gt; mapping .consented to admin.consented</span></span>
<span><span class="co">#&gt; mapping .ppc to admin.pp_consented</span></span>
<span><span class="co">#&gt; mapping .withdrawal to admin.withdrawal</span></span>
<span><span class="co">#&gt; mapping .consent_urine to admin.consent_for_urine</span></span>
<span><span class="co">#&gt; mapping .consent_blood to admin.consent_for_blood</span></span>
<span><span class="co">#&gt; mapping .consent_resp_samples1 to admin.consent_for_respiratory_samples</span></span>
<span><span class="co">#&gt; mapping .record_number to admin.record_number</span></span>
<span><span class="co">#&gt; mapping .ac_study_number to admin.consented_record_number</span></span>
<span><span class="co">#&gt; mapping .radio_exam_16 to radio.test_performed</span></span>
<span><span class="co">#&gt; the input data set does not have a radiology_date_16 column (or column set)</span></span>
<span><span class="co">#&gt; mapping .radiodays_16 to radio.test_days_from_admission</span></span>
<span><span class="co">#&gt; mapping .radio_test_16 to radio.test_type</span></span>
<span><span class="co">#&gt; Mapped 27 columns</span></span>
<span><span class="co">#&gt; Did not map 3372 columns</span></span>
<span><span class="co">#&gt; Warning: There were 2 warnings in `dplyr::filter()`.</span></span>
<span><span class="co">#&gt; The first warning was:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `|...`.</span></span>
<span><span class="co">#&gt; Caused by warning in `stringr::fixed()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Coercing `pattern` to a plain character vector.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</span></span>
<span></span>
<span><span class="co"># old format tmp3  %&gt;% filter(radio.test_performed=="yes") %&gt;% with(table(radio.test_type, radio.lung_malignancy))</span></span>
<span><span class="va">normRadio</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">radio.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">radio.alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">radio.alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">finding</span>,<span class="va">present</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                   present</span></span>
<span><span class="co">#&gt; finding                               no   yes  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Normal                           27085 20016     4</span></span>
<span><span class="co">#&gt;   Consistent with pneumonia        32333 14768     4</span></span>
<span><span class="co">#&gt;   Consistent with heart failure    42945  4156     4</span></span>
<span><span class="co">#&gt;   Consistent with pleural effusion 38102  8999     4</span></span>
<span><span class="co">#&gt;   Consistent with COVID-19         41020  6081     4</span></span>
<span><span class="co">#&gt;   Other abnormal finding           43905  3196     4</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                 0     0     0</span></span>
<span><span class="va">normRadio</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">radio.test_performed</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">select</span><span class="op">(</span><span class="va">radio.test_type</span>, <span class="va">radio.non_alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">unnest</span><span class="op">(</span><span class="va">radio.non_alrtd_finding</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">present</span><span class="op">==</span><span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">finding</span>, <span class="va">radio.test_type</span>,  useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                        radio.test_type</span></span>
<span><span class="co">#&gt; finding                                 CXR CT scan (CT thorax, CTPA, HRCT)</span></span>
<span><span class="co">#&gt;   Pulmonary embolus                     153                             675</span></span>
<span><span class="co">#&gt;   Pneumothorax and/or pneumomediastinum 862                             153</span></span>
<span><span class="co">#&gt;   Cavity including abscesses             33                              25</span></span>
<span><span class="co">#&gt;   Aspergillioma                           1                               2</span></span>
<span><span class="co">#&gt;   Lung malignancy                       336                             296</span></span>
<span><span class="co">#&gt;   Lung nodules                          299                             369</span></span>
<span><span class="co">#&gt;   Tuberculosis (old or new)               9                               2</span></span>
<span><span class="co">#&gt;   Empyema                               117                             105</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                    0                               0</span></span>
<span><span class="co">#&gt;                                        radio.test_type</span></span>
<span><span class="co">#&gt; finding                                 US thorax MRI Other &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Pulmonary embolus                             4   0    14    1</span></span>
<span><span class="co">#&gt;   Pneumothorax and/or pneumomediastinum         2   0     0    2</span></span>
<span><span class="co">#&gt;   Cavity including abscesses                    3   0     0    0</span></span>
<span><span class="co">#&gt;   Aspergillioma                                 0   0     0    0</span></span>
<span><span class="co">#&gt;   Lung malignancy                               1   0     2    0</span></span>
<span><span class="co">#&gt;   Lung nodules                                  2   0     1    0</span></span>
<span><span class="co">#&gt;   Tuberculosis (old or new)                     0   0     0    0</span></span>
<span><span class="co">#&gt;   Empyema                                       2   0     3    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                                          0   0     0    0</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">normHaem</span> <span class="op">=</span> <span class="va">rawData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/normalise_data.html">normalise_data</a></span><span class="op">(</span>instrument <span class="op">=</span> <span class="st">"haem"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Normalising data using: normalise.avoncap_export.central.haem</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/norm-0ef4812a2d1bc751062531c384a2b89e-f2e73ddac394fc619dfbb62bfc9bc798.rda</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="va">normHaem</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                                               </span></span>
<span><span class="co">#&gt;         admin.consented               Not approached  :15046  </span></span>
<span><span class="co">#&gt;        admin.pp_consented             Not approached  :26201  </span></span>
<span><span class="co">#&gt; admin.withdrawal                      no  :16176              </span></span>
<span><span class="co">#&gt; admin.consent_for_urine               no  : 6868              </span></span>
<span><span class="co">#&gt; admin.consent_for_blood               no  :13102              </span></span>
<span><span class="co">#&gt; admin.consent_for_respiratory_samples no  : 6039              </span></span>
<span><span class="co">#&gt; admin.record_number                   Length:27277            </span></span>
<span><span class="co">#&gt; admin.consented_record_number         Length:27277            </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph                     Min.   :   4.60         </span></span>
<span><span class="co">#&gt;  haem.glucose                         Min.   :   0.20         </span></span>
<span><span class="co">#&gt;  haem.albumin                         Min.   :  10.00         </span></span>
<span><span class="co">#&gt; haem.white_cell_count                 Min.   :  0.11          </span></span>
<span><span class="co">#&gt; haem.eosinophils                      Min.   : 0.0000         </span></span>
<span><span class="co">#&gt; haem.haemoglobin                      Min.   : 30.0           </span></span>
<span><span class="co">#&gt; haem.haemotocrit                      Min.   :0.1000          </span></span>
<span><span class="co">#&gt; haem.neutrophils                      Min.   :  0.010         </span></span>
<span><span class="co">#&gt; haem.lymphocytes                      Min.   :  0.000         </span></span>
<span><span class="co">#&gt;    haem.crp                           Min.   :  0.39          </span></span>
<span><span class="co">#&gt;  haem.sodium                          Min.   :102.0           </span></span>
<span><span class="co">#&gt;   haem.urea                           Min.   :  0.500         </span></span>
<span><span class="co">#&gt;   haem.egfr                           Min.   : 2.0            </span></span>
<span><span class="co">#&gt; haem.ferritin                         Min.   :    4.00        </span></span>
<span><span class="co">#&gt; haem.troponin                         Min.   :    2.00        </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                         Min.   :    0           </span></span>
<span><span class="co">#&gt;  haem.d_dimer                         Min.   :    0.00        </span></span>
<span><span class="co">#&gt; haem.blood_group                      Unknown:16011           </span></span>
<span><span class="co">#&gt;  key.admit                            Length:27277            </span></span>
<span><span class="co">#&gt; key.consent                           Length:27277            </span></span>
<span><span class="co">#&gt; admin.consent_withheld                no :27277               </span></span>
<span><span class="co">#&gt;   admin.consent_type                  Explicit   :13306       </span></span>
<span><span class="co">#&gt;  admin.consent_samples                All samples :  154      </span></span>
<span><span class="co">#&gt;                                                               </span></span>
<span><span class="co">#&gt;         admin.consented               Yes             :12231  </span></span>
<span><span class="co">#&gt;        admin.pp_consented             Yes             : 1076  </span></span>
<span><span class="co">#&gt; admin.withdrawal                      yes :    0              </span></span>
<span><span class="co">#&gt; admin.consent_for_urine               yes : 6426              </span></span>
<span><span class="co">#&gt; admin.consent_for_blood               yes :  194              </span></span>
<span><span class="co">#&gt; admin.consent_for_respiratory_samples yes : 7257              </span></span>
<span><span class="co">#&gt; admin.record_number                   Class :character        </span></span>
<span><span class="co">#&gt; admin.consented_record_number         Class :character        </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph                     1st Qu.:   7.36         </span></span>
<span><span class="co">#&gt;  haem.glucose                         1st Qu.:   5.70         </span></span>
<span><span class="co">#&gt;  haem.albumin                         1st Qu.:  29.00         </span></span>
<span><span class="co">#&gt; haem.white_cell_count                 1st Qu.:  7.04          </span></span>
<span><span class="co">#&gt; haem.eosinophils                      1st Qu.: 0.0100         </span></span>
<span><span class="co">#&gt; haem.haemoglobin                      1st Qu.:116.0           </span></span>
<span><span class="co">#&gt; haem.haemotocrit                      1st Qu.:0.3570          </span></span>
<span><span class="co">#&gt; haem.neutrophils                      1st Qu.:  4.890         </span></span>
<span><span class="co">#&gt; haem.lymphocytes                      1st Qu.:  0.740         </span></span>
<span><span class="co">#&gt;    haem.crp                           1st Qu.:  9.00          </span></span>
<span><span class="co">#&gt;  haem.sodium                          1st Qu.:134.0           </span></span>
<span><span class="co">#&gt;   haem.urea                           1st Qu.:  4.400         </span></span>
<span><span class="co">#&gt;   haem.egfr                           1st Qu.:51.0            </span></span>
<span><span class="co">#&gt; haem.ferritin                         1st Qu.:   94.55        </span></span>
<span><span class="co">#&gt; haem.troponin                         1st Qu.:    9.00        </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                         1st Qu.:  442           </span></span>
<span><span class="co">#&gt;  haem.d_dimer                         1st Qu.:    0.58        </span></span>
<span><span class="co">#&gt; haem.blood_group                      O+     : 4225           </span></span>
<span><span class="co">#&gt;  key.admit                            Class :character        </span></span>
<span><span class="co">#&gt; key.consent                           Class :character        </span></span>
<span><span class="co">#&gt; admin.consent_withheld                yes:    0               </span></span>
<span><span class="co">#&gt;   admin.consent_type                  Section 251:13971       </span></span>
<span><span class="co">#&gt;  admin.consent_samples                Urine &amp; resp: 6011      </span></span>
<span><span class="co">#&gt;                                                               </span></span>
<span><span class="co">#&gt;         admin.consented               Declined consent:    0  </span></span>
<span><span class="co">#&gt;        admin.pp_consented             Declined consent:    0  </span></span>
<span><span class="co">#&gt; admin.withdrawal                      NA's:11101              </span></span>
<span><span class="co">#&gt; admin.consent_for_urine               NA's:13983              </span></span>
<span><span class="co">#&gt; admin.consent_for_blood               NA's:13981              </span></span>
<span><span class="co">#&gt; admin.consent_for_respiratory_samples NA's:13981              </span></span>
<span><span class="co">#&gt; admin.record_number                   Mode  :character        </span></span>
<span><span class="co">#&gt; admin.consented_record_number         Mode  :character        </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph                     Median :   7.40         </span></span>
<span><span class="co">#&gt;  haem.glucose                         Median :   6.70         </span></span>
<span><span class="co">#&gt;  haem.albumin                         Median :  33.00         </span></span>
<span><span class="co">#&gt; haem.white_cell_count                 Median :  9.54          </span></span>
<span><span class="co">#&gt; haem.eosinophils                      Median : 0.0400         </span></span>
<span><span class="co">#&gt; haem.haemoglobin                      Median :131.0           </span></span>
<span><span class="co">#&gt; haem.haemotocrit                      Median :0.3990          </span></span>
<span><span class="co">#&gt; haem.neutrophils                      Median :  7.150         </span></span>
<span><span class="co">#&gt; haem.lymphocytes                      Median :  1.140         </span></span>
<span><span class="co">#&gt;    haem.crp                           Median : 34.00          </span></span>
<span><span class="co">#&gt;  haem.sodium                          Median :137.0           </span></span>
<span><span class="co">#&gt;   haem.urea                           Median :  6.200         </span></span>
<span><span class="co">#&gt;   haem.egfr                           Median :77.0            </span></span>
<span><span class="co">#&gt; haem.ferritin                         Median :  290.40        </span></span>
<span><span class="co">#&gt; haem.troponin                         Median :   20.00        </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                         Median : 1970           </span></span>
<span><span class="co">#&gt;  haem.d_dimer                         Median :    1.70        </span></span>
<span><span class="co">#&gt; haem.blood_group                      A+     : 3976           </span></span>
<span><span class="co">#&gt;  key.admit                            Mode  :character        </span></span>
<span><span class="co">#&gt; key.consent                           Mode  :character        </span></span>
<span><span class="co">#&gt; admin.consent_withheld                                        </span></span>
<span><span class="co">#&gt;   admin.consent_type                  Declined   :    0       </span></span>
<span><span class="co">#&gt;  admin.consent_samples                Urine only  :  261      </span></span>
<span><span class="co">#&gt;                                                                                </span></span>
<span><span class="co">#&gt;         admin.consented                                                        </span></span>
<span><span class="co">#&gt;        admin.pp_consented                                                      </span></span>
<span><span class="co">#&gt; admin.withdrawal                                                               </span></span>
<span><span class="co">#&gt; admin.consent_for_urine                                                        </span></span>
<span><span class="co">#&gt; admin.consent_for_blood                                                        </span></span>
<span><span class="co">#&gt; admin.consent_for_respiratory_samples                                          </span></span>
<span><span class="co">#&gt; admin.record_number                                                            </span></span>
<span><span class="co">#&gt; admin.consented_record_number                                                  </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph                     Mean   :  12.29      3rd Qu.:   7.43     </span></span>
<span><span class="co">#&gt;  haem.glucose                         Mean   :  11.96      3rd Qu.:   8.50     </span></span>
<span><span class="co">#&gt;  haem.albumin                         Mean   :  32.95      3rd Qu.:  36.00     </span></span>
<span><span class="co">#&gt; haem.white_cell_count                 Mean   : 10.93       3rd Qu.: 13.13      </span></span>
<span><span class="co">#&gt; haem.eosinophils                      Mean   : 0.1128      3rd Qu.: 0.1400     </span></span>
<span><span class="co">#&gt; haem.haemoglobin                      Mean   :129.2        3rd Qu.:144.0       </span></span>
<span><span class="co">#&gt; haem.haemotocrit                      Mean   :0.3949       3rd Qu.:0.4350      </span></span>
<span><span class="co">#&gt; haem.neutrophils                      Mean   :  8.423      3rd Qu.: 10.540     </span></span>
<span><span class="co">#&gt; haem.lymphocytes                      Mean   :  1.505      3rd Qu.:  1.710     </span></span>
<span><span class="co">#&gt;    haem.crp                           Mean   : 68.90       3rd Qu.: 97.00      </span></span>
<span><span class="co">#&gt;  haem.sodium                          Mean   :136.9        3rd Qu.:140.0       </span></span>
<span><span class="co">#&gt;   haem.urea                           Mean   :  8.009      3rd Qu.:  9.400     </span></span>
<span><span class="co">#&gt;   haem.egfr                           Mean   :68.3         3rd Qu.:90.0        </span></span>
<span><span class="co">#&gt; haem.ferritin                         Mean   : 1528.77     3rd Qu.: 1003.50    </span></span>
<span><span class="co">#&gt; haem.troponin                         Mean   :   78.15     3rd Qu.:   43.00    </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                         Mean   : 5055        3rd Qu.: 6258       </span></span>
<span><span class="co">#&gt;  haem.d_dimer                         Mean   : 1033.17     3rd Qu.:  551.00    </span></span>
<span><span class="co">#&gt; haem.blood_group                      B+     :  905        O-     :  798       </span></span>
<span><span class="co">#&gt;  key.admit                                                                     </span></span>
<span><span class="co">#&gt; key.consent                                                                    </span></span>
<span><span class="co">#&gt; admin.consent_withheld                                                         </span></span>
<span><span class="co">#&gt;   admin.consent_type                  Withdrew   :    0    Missing    :    0   </span></span>
<span><span class="co">#&gt;  admin.consent_samples                Resp only   : 1092   None        :19759  </span></span>
<span><span class="co">#&gt;                                                                         </span></span>
<span><span class="co">#&gt;         admin.consented                                                 </span></span>
<span><span class="co">#&gt;        admin.pp_consented                                               </span></span>
<span><span class="co">#&gt; admin.withdrawal                                                        </span></span>
<span><span class="co">#&gt; admin.consent_for_urine                                                 </span></span>
<span><span class="co">#&gt; admin.consent_for_blood                                                 </span></span>
<span><span class="co">#&gt; admin.consent_for_respiratory_samples                                   </span></span>
<span><span class="co">#&gt; admin.record_number                                                     </span></span>
<span><span class="co">#&gt; admin.consented_record_number                                           </span></span>
<span><span class="co">#&gt; haem.blood_gas_ph                     Max.   :9999.00    NA's   :6868   </span></span>
<span><span class="co">#&gt;  haem.glucose                         Max.   :9999.00    NA's   :4448   </span></span>
<span><span class="co">#&gt;  haem.albumin                         Max.   :9999.00    NA's   :902    </span></span>
<span><span class="co">#&gt; haem.white_cell_count                 Max.   :394.99     NA's   :270    </span></span>
<span><span class="co">#&gt; haem.eosinophils                      Max.   :14.1800    NA's   :581    </span></span>
<span><span class="co">#&gt; haem.haemoglobin                      Max.   :246.0      NA's   :268    </span></span>
<span><span class="co">#&gt; haem.haemotocrit                      Max.   :0.7120     NA's   :273    </span></span>
<span><span class="co">#&gt; haem.neutrophils                      Max.   :122.750    NA's   :270    </span></span>
<span><span class="co">#&gt; haem.lymphocytes                      Max.   :500.000    NA's   :270    </span></span>
<span><span class="co">#&gt;    haem.crp                           Max.   :873.00     NA's   :629    </span></span>
<span><span class="co">#&gt;  haem.sodium                          Max.   :180.0      NA's   :285    </span></span>
<span><span class="co">#&gt;   haem.urea                           Max.   :606.000    NA's   :345    </span></span>
<span><span class="co">#&gt;   haem.egfr                           Max.   :90.0       NA's   :313    </span></span>
<span><span class="co">#&gt; haem.ferritin                         Max.   :76878.00   NA's   :25914  </span></span>
<span><span class="co">#&gt; haem.troponin                         Max.   :49893.00   NA's   :17270  </span></span>
<span><span class="co">#&gt;  haem.pro_bnp                         Max.   :58184      NA's   :22689  </span></span>
<span><span class="co">#&gt;  haem.d_dimer                         Max.   :80000.00   NA's   :23847  </span></span>
<span><span class="co">#&gt; haem.blood_group                      (Other): 1357      NA's   :    5  </span></span>
<span><span class="co">#&gt;  key.admit                                                              </span></span>
<span><span class="co">#&gt; key.consent                                                             </span></span>
<span><span class="co">#&gt; admin.consent_withheld                                                  </span></span>
<span><span class="co">#&gt;   admin.consent_type                                                    </span></span>
<span><span class="co">#&gt;  admin.consent_samples</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="augmenting-the-central-database">Augmenting the central database<a class="anchor" aria-label="anchor" href="#augmenting-the-central-database"></a>
</h2>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all()</span></span>
<span><span class="va">augData2</span> <span class="op">=</span> <span class="va">normData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">avoncap</span><span class="fu">::</span><span class="fu"><a href="../reference/augment_data.html">augment_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Augmenting data using: augment.avoncap_export.central</span></span>
<span><span class="co">#&gt; using cached item: ~/.cache/avoncap/augment-c0a6188e8e5ceeed5c7f302b593a85fd-9a10274356b657707614254c3f829a67.rda</span></span>
<span></span>
<span><span class="va">augData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/xglimpse.html">xglimpse</a></span><span class="op">(</span><span class="va">admission.category</span>,  <span class="va">admission.presentation_3_class</span><span class="op">)</span></span>
<span><span class="co">#&gt;                               admission.category</span></span>
<span><span class="co">#&gt; admission.presentation_3_class Confirmed SARS-CoV-2 No evidence SARS-CoV-2</span></span>
<span><span class="co">#&gt;               Pneumonia                        4828                   8192</span></span>
<span><span class="co">#&gt;               NP-LRTI                          3965                   5786</span></span>
<span><span class="co">#&gt;               No evidence LRTI                   63                      0</span></span>
<span><span class="co">#&gt;               &lt;NA&gt;                                0                      0</span></span>
<span><span class="co">#&gt;                               admission.category</span></span>
<span><span class="co">#&gt; admission.presentation_3_class Non-infective &lt;NA&gt;</span></span>
<span><span class="co">#&gt;               Pneumonia                    0    0</span></span>
<span><span class="co">#&gt;               NP-LRTI                      0    0</span></span>
<span><span class="co">#&gt;               No evidence LRTI          4443    0</span></span>
<span><span class="co">#&gt;               &lt;NA&gt;                         0 1360</span></span>
<span><span class="va">augData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/xglimpse.html">xglimpse</a></span><span class="op">(</span><span class="va">admission.covid_pcr_result</span>,  <span class="va">admission.presentation_3_class</span><span class="op">)</span></span>
<span><span class="co">#&gt;                               admission.covid_pcr_result</span></span>
<span><span class="co">#&gt; admission.presentation_3_class SARS-CoV-2 PCR negative SARS-CoV-2 PCR positive</span></span>
<span><span class="co">#&gt;               Pneumonia                           7726                    4775</span></span>
<span><span class="co">#&gt;               NP-LRTI                             5280                    3898</span></span>
<span><span class="co">#&gt;               No evidence LRTI                    3886                      47</span></span>
<span><span class="co">#&gt;               &lt;NA&gt;                                   0                       0</span></span>
<span><span class="co">#&gt;                               admission.covid_pcr_result</span></span>
<span><span class="co">#&gt; admission.presentation_3_class &lt;NA&gt;</span></span>
<span><span class="co">#&gt;               Pneumonia         519</span></span>
<span><span class="co">#&gt;               NP-LRTI           573</span></span>
<span><span class="co">#&gt;               No evidence LRTI  573</span></span>
<span><span class="co">#&gt;               &lt;NA&gt;             1360</span></span>
<span><span class="va">augData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/xglimpse.html">xglimpse</a></span><span class="op">(</span><span class="va">admission.infective_cause</span>,  <span class="va">admission.presentation_3_class</span><span class="op">)</span></span>
<span><span class="co">#&gt;                               admission.infective_cause</span></span>
<span><span class="co">#&gt; admission.presentation_3_class Non-infective Infective  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;               Pneumonia                    0     13020     0</span></span>
<span><span class="co">#&gt;               NP-LRTI                      0      9751     0</span></span>
<span><span class="co">#&gt;               No evidence LRTI          4443        63     0</span></span>
<span><span class="co">#&gt;               &lt;NA&gt;                         0         0  1360</span></span>
<span><span class="va">augData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/xglimpse.html">xglimpse</a></span><span class="op">(</span><span class="va">admission.infective_cause</span>,  <span class="va">admission.is_covid</span><span class="op">)</span></span>
<span><span class="co">#&gt;                         admission.infective_cause</span></span>
<span><span class="co">#&gt; admission.is_covid       Non-infective Infective  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Confirmed SARS-CoV-2               0      8856     0</span></span>
<span><span class="co">#&gt;   No evidence SARS-CoV-2          4443     13978     0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;                               0         0  1360</span></span>
<span></span>
<span><span class="va">augData2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/xglimpse.html">xglimpse</a></span><span class="op">(</span><span class="va">admin.consent_withheld</span>, <span class="va">admission.presentation_3_class</span><span class="op">)</span></span>
<span><span class="co">#&gt;                               admin.consent_withheld</span></span>
<span><span class="co">#&gt; admission.presentation_3_class    no   yes</span></span>
<span><span class="co">#&gt;               Pneumonia        13020     0</span></span>
<span><span class="co">#&gt;               NP-LRTI           9751     0</span></span>
<span><span class="co">#&gt;               No evidence LRTI  4506     0</span></span>
<span><span class="co">#&gt;               &lt;NA&gt;                 0  1360</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rob Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
