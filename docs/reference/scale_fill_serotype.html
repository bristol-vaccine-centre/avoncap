<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>A ggplot scale for pneumococcal serotypes that keeps PCV groups together — scale_fill_serotype • avoncap</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A ggplot scale for pneumococcal serotypes that keeps PCV groups together — scale_fill_serotype"><meta name="description" content="The scale groups colours by PCV group, but it is important to have the source
data using the same levels as this scale otherwise the colour legend will be
ordered in a different sequence. This can be achieved using relevel_serotypes,"><meta property="og:description" content="The scale groups colours by PCV group, but it is important to have the source
data using the same levels as this scale otherwise the colour legend will be
ordered in a different sequence. This can be achieved using relevel_serotypes,"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">avoncap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9029</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/web/avoncap.html">Getting started</a></li>
    <li><a class="dropdown-item" href="../articles/web/denominator-check.html">AvonCAP study population denominator</a></li>
    <li><a class="dropdown-item" href="../articles/web/ed-data.html">The emergency department data set</a></li>
    <li><a class="dropdown-item" href="../articles/web/gp-data.html">The primary care data set</a></li>
    <li><a class="dropdown-item" href="../articles/web/longitudinal-pneumo.html">Pneumococcus longitudinal serotype data</a></li>
    <li><a class="dropdown-item" href="../articles/web/quality-assurance.html">Quality assurance</a></li>
    <li><a class="dropdown-item" href="../articles/web/uad-data.html">Pneumococcus urinary antigen data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bristol-vaccine-centre/avoncap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>A ggplot scale for pneumococcal serotypes that keeps PCV groups together</h1>
      <small class="dont-index">Source: <a href="https://github.com/bristol-vaccine-centre/avoncap/blob/HEAD/R/utils-serotype-scales.R" class="external-link"><code>R/utils-serotype-scales.R</code></a></small>
      <div class="d-none name"><code>scale_fill_serotype.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The scale groups colours by PCV group, but it is important to have the source
data using the same levels as this scale otherwise the colour legend will be
ordered in a different sequence. This can be achieved using <code>relevel_serotypes</code>,</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">scale_fill_serotype</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  palette_fn <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html" class="external-link">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span>,</span>
<span>  undefined <span class="op">=</span> <span class="st">"#606060"</span>,</span>
<span>  exprs <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/defusing-advanced.html" class="external-link">exprs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>an unwrapped version of the <code>exprs</code> parameter
  Named arguments passed on to <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">ggplot2::scale_fill_manual</a></code></p><dl><dt><code>values</code></dt>
<dd><p>a set of aesthetic values to map data values to. The values
will be matched in order (usually alphabetical) with the limits of the
scale, or with <code>breaks</code> if provided. If this is a named vector, then the
values will be matched based on the names instead. Data values that don't
match will be given <code>na.value</code>.</p></dd>

<dt><code>aesthetics</code></dt>
<dd><p>Character string or vector of character strings listing the
name(s) of the aesthetic(s) that this scale works with. This can be useful, for
example, to apply colour settings to the <code>colour</code> and <code>fill</code> aesthetics at the
same time, via <code>aesthetics = c("colour", "fill")</code>.</p></dd>

<dt><code>breaks</code></dt>
<dd><p>One of:</p><ul><li><p><code>NULL</code> for no breaks</p></li>
<li><p><code>waiver()</code> for the default breaks (the scale limits)</p></li>
<li><p>A character vector of breaks</p></li>
<li><p>A function that takes the limits as input and returns breaks
as output</p></li>
</ul></dd>

<dt><code>na.value</code></dt>
<dd><p>The aesthetic value to use for missing (<code>NA</code>) values</p></dd>


</dl></dd>


<dt id="arg-palette-fn">palette_fn<a class="anchor" aria-label="anchor" href="#arg-palette-fn"></a></dt>
<dd><p>a function that returns a set of colours for a number of
levels. Such functions can be obtained from things like <code>scales::brewer_pal(...)</code></p></dd>


<dt id="arg-undefined">undefined<a class="anchor" aria-label="anchor" href="#arg-undefined"></a></dt>
<dd><p>the colour for the last group which is assumed to be the
<code>Unknown</code> types</p></dd>


<dt id="arg-exprs">exprs<a class="anchor" aria-label="anchor" href="#arg-exprs"></a></dt>
<dd><p>a list of formulae with a predicate on the LHS and a PCV group name on
the RHS. which are interpreted as the parameters for a <code><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">dplyr::case_when</a></code>
call. This must be protected against interpretation by wrapping it in
<code><a href="https://rlang.r-lib.org/reference/defusing-advanced.html" class="external-link">rlang::exprs()</a></code>. The predicates are tested against <code>avoncap::serotype_data$map</code>
and could use any of  the following columns 'serotype', 'PCV7', 'PCV13', 'PCV15', 'PCV20', 'PPV23', 'PCV13on7', 'PCV15on13', 'PCV20on15', 'PPV23on20', 'PCV10SSI', 'PCV10GSK', 'PCV15Zhifei', 'PCV24Vaxcyte', 'PCV24Affinivax'
a default option of the form <code>TRUE ~ "Non PCV serotype"</code> must exist to capture
unmatched items.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot2 scale</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rob Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

